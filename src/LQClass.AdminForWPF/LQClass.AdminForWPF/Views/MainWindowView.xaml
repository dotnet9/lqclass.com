<mah:MetroWindow x:Class="LQClass.AdminForWPF.Views.MainWindowView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:prism="http://prismlibrary.com/"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:i18="clr-namespace:LQClass.AdminForWPF.I18nResources"
        xmlns:markup="clr-namespace:WpfExtensions.Xaml.Markup;assembly=WpfExtensions.Xaml"
        mc:Ignorable="d"
        prism:ViewModelLocator.AutoWireViewModel="True"
        Title="{Binding Title}" Height="800" Width="1200"
        GlowBrush="{DynamicResource MahApps.Brushes.Accent}"
        Icon="../Images/logo.ico"
        NonActiveGlowBrush="#CDFF0000"
        ShowIconOnTitleBar="True"
        ShowTitleBar="False"
        WindowStartupLocation="CenterScreen">
    <mah:MetroWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Controls.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Fonts.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Themes/Light.Blue.xaml" />
                <ResourceDictionary Source="pack://application:,,,/LQClass.AdminForWPF;component/Styles/MainMenu.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </mah:MetroWindow.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="35"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Rectangle Grid.RowSpan="4">
            <Rectangle.Fill>
                <ImageBrush ImageSource="/Images/sidebar-1.jpg" Stretch="UniformToFill" TileMode="Tile"/>
            </Rectangle.Fill>
        </Rectangle>

        <StackPanel Orientation="Horizontal" Background="#22000000">
            <Image Source="/Images/logo.png" HorizontalAlignment="Left"  Margin="10 0 0 0"/>
            <TextBlock Text="{Binding Title}" Foreground="White" FontSize="18" FontWeight="Bold" VerticalAlignment="Center"/>
        </StackPanel>

        <Rectangle Grid.Row="1" Height="1" Width="180">
            <Rectangle.Fill>
                <LinearGradientBrush StartPoint="0.5 0" EndPoint="0.5 1">
                    <GradientStop Color="#111" Offset="0"/>
                    <GradientStop Color="#ccc" Offset="1"/>
                </LinearGradientBrush>
            </Rectangle.Fill>
        </Rectangle>

        <TreeView Grid.Row="2" Grid.RowSpan="2" Background="Transparent"
                  ItemsSource="{Binding CustomMenus}" Foreground="White">
            <TreeView.ItemContainerStyle>
                <Style TargetType="{x:Type TreeViewItem}">
                    <Setter Property="IsExpanded" Value="True"></Setter>
                </Style>
            </TreeView.ItemContainerStyle>
            <TreeView.ItemTemplate>
                <HierarchicalDataTemplate ItemsSource="{Binding Children}">
                    <TextBlock Text="{Binding Name}"/>
                </HierarchicalDataTemplate>
            </TreeView.ItemTemplate>
        </TreeView>

        <Menu Grid.Column="1" HorizontalAlignment="Right" Margin="0 0 130 0">
            <MenuItem Header="{markup:I18n {x:Static i18:Language.MainWindowView_GithubToolTip}}"
                      Command="{Binding RaiseOpenLinkCommand}"
                      CommandParameter="https://github.com/dotnet9/lqclass.com">
                <MenuItem.Icon>
                    <materialDesign:PackIcon Kind="Github" Width="22" Height="22" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem Header="{markup:I18n {x:Static i18:Language.MainWindowView_Internationalization}}">
                <MenuItem.Icon>
                    <materialDesign:PackIcon Kind="Web" Width="22" Height="22"/>
                </MenuItem.Icon>
                <MenuItem Header="中文" Command="{Binding RaiseChangeLanguageCommand}" CommandParameter="zh-CN" />
                <MenuItem Header="English" Command="{Binding RaiseChangeLanguageCommand}" CommandParameter="en" />
            </MenuItem>
            <MenuItem Header="lqclass">
                <MenuItem.Icon>
                    <Image Source="../Images/logo.png" Width="25" Height="25"/>
                </MenuItem.Icon>
                <MenuItem Header="Web" Command="{Binding RaiseOpenLinkCommand}" CommandParameter="http://lqclass.com" />
                <MenuItem Header="Admin" Command="{Binding RaiseOpenLinkCommand}" CommandParameter="http://admin.lqclass.com" />
                <MenuItem Header="Web API" Command="{Binding RaiseOpenLinkCommand}" CommandParameter="http://api.lqclass.com/swagger/index.html" />
            </MenuItem>
            <MenuItem Header="Welcome">
                <MenuItem.Icon>
                    <Image Source="../Images/user.png" Width="25" Height="25"/>
                </MenuItem.Icon>
                <MenuItem Header="{markup:I18n {x:Static i18:Language.MainWindowView_FirstPage}}" />
                <MenuItem Header="{markup:I18n {x:Static i18:Language.MainWindowView_ModifyPwd}}" />
                <MenuItem Header="{markup:I18n {x:Static i18:Language.MainWindowView_Logout}}" Command="{Binding RaiseLogoutCommand}" />
            </MenuItem>
        </Menu>
    </Grid>
</mah:MetroWindow>
