{"version":3,"sources":["components/decorators/create/error.tsx","components/decorators/create/form.tsx","components/decorators/create/loadingData.tsx","components/decorators/index.ts","components/dataView/content/agGrid.tsx","components/dataView/help/visible.tsx","components/dataView/other/import/index.tsx","components/dataView/other/infoShell/index.tsx","components/dataView/other/formItem/index.tsx","components/dataView/other/dialog/index.tsx","components/dataView/index.ts","app/layout/antdPro/GlobalHeader/index.module.less","components/other/LayoutSpin/index.tsx","store/index.ts","app/layout/antdPro/HeaderDropdown/index.tsx","app/layout/antdPro/SelectLang/index.tsx","app/layout/antdPro/GlobalHeader/RightContent.tsx","app/layout/antdPro/GlobalHeader/userMenu.tsx","app/layout/antdPro/SettingDrawer/BlockCheckbox.tsx","app/layout/antdPro/SettingDrawer/ThemeColor.tsx","app/layout/antdPro/SettingDrawer/index.tsx","app/layout/antdPro/TabsPages/index.tsx","app/layout/antdPro/index.tsx","app/pages/external/index.tsx","app/pages/login/imgCode/code.ts","app/pages/login/imgCode/index.tsx","app/pages/login/layout/index.tsx","app/router.tsx","app/pages/login/index.tsx","app/pages/system/subMenu.tsx","app/pages/system/authorize.tsx","app/pages/system/index.tsx","app/index.tsx","index.tsx","utils/RequestFiles.ts","store/system/menu.ts","global.config.tsx","utils/Help.ts","assets/img/logo.png","utils/themeColor.ts","store/system/user.ts","components/other/Exception/typeConfig.ts","components/other/Exception/index.tsx","app/layout/antdPro/SelectLang/index.module.less","store/system/authorize.tsx","components/dataView/header/search.tsx","components/dataView/help/toImg.tsx","utils/Regular.ts","locale/en-US/default.ts","locale/en-US/tips.ts","locale/en-US/other.ts","locale/en-US/action.ts","locale/en-US/settingDrawer.ts","locale/en-US/pages.ts","locale/zh-CN/default.ts","locale/zh-CN/tips.ts","locale/zh-CN/other.ts","locale/zh-CN/action.ts","locale/zh-CN/settingDrawer.ts","locale/zh-CN/pages.ts","locale/index.ts","assets/img/user.png","pages/index.ts","app/layout/antdPro/HeaderDropdown/index.module.less","app/pages/login/layout/images/code.png","assets/font/font.ts","utils/Request.ts"],"names":["DesError","Component","state","__error","__errorInfo","error","info","this","setState","errorInfo","style","height","background","DesForm","create","DesLoadingData","options","title","value","map","item","key","constructor","args","__componentWillUnmount","__linkage","spinning","dataSource","props","display","mapKey","valueAnalysis","val","data","color","node","onChange","valueFormatter","ags","React","indicator","type","spin","onLoadingData","prevProps","prevState","snapshot","onlinkage","res","linkage","Promise","Observable","toPromise","form","getFieldsValue","getFieldValue","linkageValue","resetFields","setFields","GridCommunity","AgGrid","fallback","Visible","visible","children","ImportModal","observer","Store","success","onTemplate","PageState","visiblePort","id","onImport","onSearch","onCancel","DraggerProps","name","showUploadList","accept","action","RequestFiles","FileTarget","status","file","response","Id","message","onRemove","onFileDelete","centered","destroyOnClose","width","cancelText","footer","bind","icon","onClick","margin","Dragger","className","DndTitle","deltaX","deltaY","panstart","div","hammer","x","y","onUpdate","left","top","Hammer","current","on","event","styleState","destroy","ref","InfoShell","GlobalConfig","settings","infoType","onClose","infoTypeWidth","maskClosable","e","wrapClassName","InfoShellLayout","childrens","toArray","wtmType","some","layout","tip","InfoShellCol","loading","loadingEdit","btns","submit","htmlType","columnCount","infoColumnCount","colSpan","lg","md","sm","xs","formItemLayout","formItemLayoutver","Math","floor","labelCol","span","wrapperCol","labelSpan","warppSpan","FormItem","hidden","fieId","models","decoratorOptions","formItemProps","defaultValues","render","disabled","getFieldDecorator","model","rules","label","formItem","placeholder","initialValue","renderItem","config","propsNew","fileID","JSON","stringify","checkedChildren","unCheckedChildren","defaultChecked","itemToDisplay","itemRender","itemlayout","Item","DialogForm","Debounce","Date","now","load","Optimization","nextProps","nextState","nextContext","Form","option","showSubmit","closeText","submitText","button","globalConfig","onVisible","stopPropagation","preventDefault","onFormSubmit","validateFields","err","values","a","callbackValue","development","notification","warn","description","onSetErrorMsg","warning","errors","Error","onSubmit","renderFrom","DialogFormDes","params","DFC","isOnLoadData","onLoadData","isLoadData","loadData","__spinning","__details","__key","Help","GUID","time","rej","align","gutter","paragraph","rows","module","exports","size","User","Authorize","Meun","ready","init","HeaderDropdown","cls","overlayClassName","restProps","classNames","styles","container","SelectLang","changeLang","selectedLang","languageLabels","languageIcons","langMenu","menu","selectedKeys","locale","role","aria-label","overlay","placement","dropDown","GlobalHeaderRight","theme","right","dark","UserMenu","userName","userDropdown","href","target","outLogin","userAvatar","src","UserInfo","PhotoId","onFileUrl","default","avatar","Name","InsertForm","Request","ajax","url","method","body","txt","getLocalesValue","Password","getLocalesTemplate","validator","rule","callback","baseClassName","BlockCheckbox","list","alt","Tag","check","rest","backgroundColor","ThemeColor","colors","formatMessage","colorList","isBrowser","window","Option","Body","marginBottom","SettingDrawer","collapse","language","onLanguageChange","getLayoutSetting","getFormatMessage","contentWidth","fixedHeader","autoHideHeader","fixSiderbar","agGridTheme","tabsPage","defaultMessage","onSelect","changeSetting","checked","disabledReason","onSettingChange","togglerContent","onCollapseChange","renderLayoutSettingItem","cloneElement","actions","opacity","locales","getLocales","addEventListener","passive","removeEventListener","getContainer","navTheme","primaryColor","colorWeak","zIndex","split","App","storage","localStorage","jsonify","debounce","TabsPages","TabsPagesStore","route","routes","pushTabPane","location","pathname","componentWillUnmount","history","replace","path","onClosable","tabPane","activeKey","onEdit","router","match","TabPane","tab","component","renderIconTitle","Icon","Text","closable","LayoutSpin","animation","minWidth","getDisabled","resize","fromEvent","pipe","debounceTime","subscribe","getHeight","runInAction","unsubscribe","getRoutes","ParallelMenu","push","index","onCreateHoem","innerHeight","matchRoutes","observable","bound","defaultOpenKeys","themeColor","changeColor","reload","Menus","Menu","OpenKeys","ParentId","Parent","getDefaultOpenKeys","getMenu","toJS","logo","rightContentRender","rightProps","RightContent","menuHeaderRender","to","menuDataRender","subMenu","menuItemRender","menuItemProps","defaultDom","isUrl","menuProps","openKeys","onOpenChange","forceUpdate","footerRender","MainContent","renderRoutes","MsgeStore","iframeHeight","IApp","loding","token","get","decodeURIComponent","onLoad","l","w","h","PI","L","isIE","navigator","userAgent","indexOf","getRandomNumberByRange","start","end","round","random","createElement","tagName","elment","document","addClass","tag","classList","add","getRandomImgSrc","draw","ctx","operation","beginPath","moveTo","arc","lineTo","r","lineWidth","fillStyle","strokeStyle","stroke","globalCompositeOperation","sum","square","jigsaw","el","onSuccess","onFail","onRefresh","img","canvasCtx","blockCtx","block","refreshIcon","slider","sliderContainer","sliderMask","trail","text","position","Object","assign","initDOM","initImg","bindEvents","canvas","createCanvas","cloneNode","sliderIcon","innerHTML","appendChild","getContext","onload","Image","crossOrigin","onerror","setSrc","xhr","XMLHttpRequest","onloadend","FileReader","readAsDataURL","result","open","responseType","send","createImg","drawImage","ImageData","getImageData","putImageData","clearRect","onselectstart","onclick","reset","originX","originY","isMouseDown","handleDragStart","clientX","touches","clientY","handleDragMove","eventX","eventY","moveX","moveY","blockLeft","handleDragEnd","changedTouches","remove","verify","spliced","verified","setTimeout","arr","average","reduce","length","deviations","stddev","sqrt","parseInt","abs","clean","element","code","Header","Content","Footer","Sider","LayoutLogin","Title","Paragraph","Main","loginBck","onSample","Unmount","onDelay","LoginDemo","notCode","store","Login","fieldsError","getFieldsError","isFieldTouched","getFieldError","userNameError","passwordError","keys","field","validateStatus","help","required","prefix","onMouseEnter","onMouseOut","String","trigger","TreeNode","onDragEnter","onDrop","dropKey","eventKey","dragKey","dragNode","dropPos","pos","dragObj","ar","i","dropPosition","Number","loop","forEach","Key","Children","splice","dropToGap","setSubMenu","TreeNodeConfig","disableCheckbox","showIcon","showLine","draggable","defaultExpandedKeys","yi","DrawerComponent","childrenDrawer","showDrawer","showChildrenDrawer","onChildrenDrawerClose","bottom","borderTop","padding","textAlign","borderRadius","marginRight","defaultActiveKey","tabPosition","LayoutPro","exact","createCSSTransition","lazy","External","System","Pages","Exception","AuthentComponent","isLogin","Animate","transitionName","transitionAppear","getConfigProvider","messages","ReactDOM","getElementById","files","newMap","compatibleUrl","downloadLoading","AjaxRequest","fileName","moment","format","getHeaders","NProgress","timeout","headers","formatBody","disposition","getResponseHeader","onCreateBlob","click","blob","downUrl","URL","createObjectURL","download","revokeObjectURL","getError","msg","getBody","responseText","parse","onProgress","upload","onprogress","total","percent","loaded","formData","FormData","append","filename","onError","withCredentials","setRequestHeader","hasOwnProperty","abort","Regular","test","Url","encodeURIComponent","staticPage","origin","datalist","recursionTree","collapsed","dispatchEvent","CustomEvent","computed","configure","enforceActions","duration","hydrate","persist","buildTime","process","ImgLogo","ImgUser","set","setItem","getItem","clear","removeItem","then","credentials","GetNavigatorLanguage","iconfontUrl","c","toString","Field","eqValue","nullValues","FieldValue","GetFormValue","undefined","oldColor","getAntdSerials","lightens","Array","fill","_","client","varyColor","lighten","colorPalettes","generate","rgb","toNum3","join","concat","resolve","oldColors","newColors","changeUrl","cssUrl","content","changer","Actions","CheckLogin","userInfo","onInitMenu","onSetUserInfo","Logout","403","desc","404","500","backText","linkElement","redirect","staticContext","pageType","backgroundImage","PureComponent","defaultProps","AuthorizeStore","AuthorizeDecorator","PageParams","onPassageway","onAuthorizeActions","PageStore","UrlsKey","actionUrl","DataViewSearch","BindAll","searchColumnCount","onReset","toggle","overflowY","parentNode","offsetHeight","overflow","maxHeight","clientHeight","items","toggleShow","colSpanSearch","itemslength","tableLoading","onToggle","viewer","Viewer","ToImg","show","hideDownload","onFileDownload","mobilePhone","telephone","email","cardID","isHtml","number","ordinary","just","negative","zhcn","enus","mergeLocales","defaultValue","interpolate","globalconfig","define","antdZhCN","antdEnUS","actionlog","controller","frameworkgroup","frameworkrole","frameworkuserbase","frameworkmenu","dataprivilege","CacheHttp","Map","Cache","interval","obs","catchStatus","jsonpCounter","Obs","sub","catchError","of","filter","AjaxResponse","AjaxError","Message","request","traceId","TimeoutError","next","complete","has","promise","urlOrRequest","AjaxObservable","post","put","delete","newParams","parameterTemplate","callbackKey","getTime","script","removeChild","emptyBody","address","endStr","isAddressWith","isUrlWith","toNull","attribute","param","parlist","done"],"mappings":"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","file":"static/js/main.93d7a137.chunk.js","sourcesContent":["/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2019-02-24 17:06:55\r\n * @modify date 2019-02-24 17:06:55\r\n * @desc [description]\r\n */\r\nimport * as React from 'react';\r\nimport lodash from \"lodash\";\r\nexport function DesError(Component: React.ComponentClass): any {\r\n    // function <T extends { new(...args: any[]): React.Component<any, any> }>(constructor: T) {\r\n    return class AppError extends Component {\r\n        state = {\r\n            ...this.state,\r\n            __error: null,\r\n            __errorInfo: null\r\n        };\r\n        componentDidCatch(error, info) {\r\n            this.setState({\r\n                __error: error,\r\n                __errorInfo: info\r\n            })\r\n        }\r\n        render() {\r\n            // 组件错误\r\n            if (this.state.errorInfo) {\r\n                return (\r\n                    <div>\r\n                        <h2>组件出错~</h2>\r\n                        <details >\r\n                            <pre style={{ height: 300, background: \"#f3f3f3\" }}>\r\n                                <code>{lodash.toString(this.state.__error)}</code>\r\n                                <code>{lodash.get(this.state, '__errorInfo.componentStack')}</code>\r\n                            </pre>\r\n                        </details>\r\n                    </div>\r\n                );\r\n            }\r\n            return super.render();\r\n        }\r\n    }\r\n\r\n}","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2019-02-24 17:07:00\r\n * @modify date 2019-02-24 17:07:00\r\n * @desc [description]\r\n */\r\nimport * as React from 'react';\r\nimport { Form } from 'antd';\r\nexport function DesForm(Component: React.ComponentClass<any, any>) {\r\n    // console.log(\"创建表单\")\r\n    // console.dir(Component)\r\n    return Form.create()(Component) as any //:React.ComponentClass<RcBaseFormProps & Omit<P, keyof FormComponentProps>>\r\n    // return Form.create()(class AppForm extends React.PureComponent<any, any> {\r\n    //     render() {\r\n    //         // 扩展 默认 的 函数 传递 form 对象\r\n    //         const getFieldDecorator = this.props.form.getFieldDecorator;\r\n    //         this.props.form.getFieldDecorator = (id, options) => {\r\n    //             return (node) => {\r\n    //                 // 执行 表单创建的 装饰器\r\n    //                 const reactNode = getFieldDecorator(id, options)(node);\r\n    //                 let props: any = {\r\n    //                     form: this.props.form,\r\n    //                 }\r\n    //                 try {\r\n    //                     props = {\r\n    //                         form: this.props.form,\r\n    //                         // history: this.props.history,\r\n    //                         // location: this.props.location,\r\n    //                         // match: this.props.match,\r\n    //                         // route: this.props.route,\r\n    //                     }\r\n    //                 } catch (error) {\r\n\r\n    //                 }\r\n    //                 return React.cloneElement(reactNode, props)\r\n    //             }\r\n    //         }\r\n    //         return (\r\n    //             <Component {...this.props} />\r\n    //         );\r\n    //     }\r\n    // }) as any\r\n}\r\n","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2019-02-24 17:06:55\r\n * @modify date 2019-02-24 17:06:55\r\n * @desc [description]\r\n */\r\nimport * as React from 'react';\r\nimport lodash from \"lodash\";\r\nimport { Observable } from 'rxjs';\r\nimport { Spin, Icon, Tag } from 'antd';\r\ninterface ILoadingDataOptions {\r\n    title?: string;\r\n    value?: string;\r\n    map?: (item) => any;\r\n}\r\ndeclare type linkageModels = (linkageModels?: any) => Observable<any[]> | any[] | Promise<any[]>;\r\nexport interface ILoadingDataProps {\r\n    dataSource?: any;\r\n    linkage?: string[];\r\n    renderItem?: (items) => React.ReactNode;\r\n\r\n    mapKey?: string;\r\n    /**\r\n     * 值转换\r\n     * @memberof IValueFormatterOptions\r\n     */\r\n    valueFormatter?: (value) => any;\r\n    /**\r\n     * 值解析\r\n     * @memberof IValueFormatterOptions\r\n     */\r\n    valueAnalysis?: (value) => any;\r\n    [key: string]: any;\r\n}\r\n/**\r\n * 级联数据 装饰器\r\n * @param options \r\n */\r\nexport function DesLoadingData(options: ILoadingDataOptions = {}) {\r\n    options.title = lodash.get(options, 'title', 'Text');\r\n    options.value = lodash.get(options, 'value', 'Value');\r\n    options.map = lodash.get(options, 'map', (item) => {\r\n        return {\r\n            key: lodash.get(item, options.value),\r\n            ...item,\r\n            value: lodash.get(item, options.value),\r\n            title: lodash.get(item, options.title),\r\n        }\r\n    });\r\n    return function <T extends { new(...args: any[]): React.Component<ILoadingDataProps, any> }>(constructor: T) {\r\n        return class LoadingData extends constructor {\r\n            constructor(...args) {\r\n                super(...args);\r\n                this.state = {\r\n                    spinning: false,\r\n                    dataSource: [],\r\n                    ...this.state,\r\n                }\r\n            }\r\n            render() {\r\n                if (!this.state.spinning) {\r\n                    if (this.props.display) {\r\n                        // 多选的\r\n                        if (lodash.isArray(this.props.value)) {\r\n                            let { value } = this.props;\r\n                            if (this.props.mapKey) {\r\n                                value = this.props.valueAnalysis ? this.props.valueAnalysis(value) : lodash.map(value, this.props.mapKey);\r\n                            }\r\n                            return value.map(val => {\r\n                                const data = lodash.find(this.state.dataSource, ['key', val])\r\n                                return data && <Tag color=\"geekblue\" key={data.key}>{data.title}</Tag>\r\n                            })\r\n                        }\r\n                        return <span>{lodash.get(lodash.find(this.state.dataSource, [\"key\", this.props.value]), \"title\")}</span>\r\n                    }\r\n                    // mapKey 数据转换\r\n                    if (this.props.mapKey) {\r\n                        const node = super.render();\r\n                        let props = {\r\n                            value: this.props.value,\r\n                            onChange: (value, ...ags) => {\r\n                                if (this.props.valueFormatter) {\r\n                                    value = this.props.valueFormatter(value);\r\n                                } else if (lodash.isArray(value)) {\r\n                                    value = value.map(val => {\r\n                                        if (lodash.isString(val)) {\r\n                                            val = {\r\n                                                [this.props.mapKey]: val\r\n                                            }\r\n                                        }\r\n                                        return val\r\n                                    })\r\n                                }\r\n                                this.props.onChange(value, ags);\r\n                            }\r\n                        };\r\n                        if (props.value && lodash.isArray(props.value)) {\r\n                            props.value = this.props.valueAnalysis ? this.props.valueAnalysis(props.value) : lodash.map(props.value, this.props.mapKey);\r\n                        }\r\n                        if (lodash.has(node, 'props.targetKeys')) {\r\n                            lodash.set(props, 'targetKeys', props.value)\r\n                        }\r\n                        return React.cloneElement(node as JSX.Element, props)\r\n                    }\r\n                    return super.render();\r\n                }\r\n                return (\r\n                    <Spin spinning={this.state.spinning} indicator={<Icon type=\"loading\" spin />}>\r\n                        <div>loading...</div>\r\n                    </Spin>\r\n                );\r\n            }\r\n            /**\r\n             * 组件以卸载\r\n             */\r\n            __componentWillUnmount = false;\r\n            /**\r\n             * 联动 \r\n             */\r\n            __linkage;\r\n            componentWillUnmount() {\r\n                this.__componentWillUnmount = true;\r\n                super.componentWillUnmount && super.componentWillUnmount()\r\n            }\r\n            componentDidMount() {\r\n                if (this.props.dataSource) {\r\n                    this.onLoadingData(this.props.dataSource);\r\n                }\r\n                super.componentDidMount && super.componentDidMount();\r\n            }\r\n            componentDidUpdate(prevProps, prevState, snapshot) {\r\n                this.onlinkage();\r\n                super.componentDidUpdate && super.componentDidUpdate(prevProps, prevState, snapshot);\r\n            }\r\n            /**\r\n            * 加载数据\r\n            * @param dataSource \r\n            */\r\n            async  onLoadingData(dataSource) {\r\n                let res = [];\r\n                try {\r\n                    if (!dataSource) {\r\n                        this.setState({\r\n                            dataSource: [],\r\n                            spinning: false\r\n                        })\r\n                        return [];\r\n                    }\r\n                    if (this.state.spinning) return\r\n                    this.setState({\r\n                        spinning: true\r\n                    })\r\n                    // 值为 数组 \r\n                    if (lodash.isFunction(dataSource)) {\r\n                        if (this.props.linkage) {\r\n                            this.__linkage = this.props.linkage;\r\n                        }\r\n                        return this.onLoadingData(dataSource(this.__linkage));\r\n                    }\r\n                    // 值为 数组 \r\n                    if (lodash.isArray(dataSource)) {\r\n                        res = dataSource;\r\n                    }\r\n                    // 值为 Promise\r\n                    else if (dataSource instanceof Promise) {\r\n                        res = await dataSource;\r\n                    }\r\n                    // 值为 Observable \r\n                    else if (dataSource instanceof Observable || dataSource.toPromise) {\r\n                        res = await dataSource.toPromise();\r\n                    }\r\n                    // 转换 数据 为 渲染 格式\r\n                    dataSource = res.map(item => {\r\n                        return options.map(item);\r\n                    })\r\n                    // console.log(\"TCL: LoadingData -> onLoadingData -> dataSource\", dataSource)\r\n                } catch (error) {\r\n                    dataSource = [];\r\n                    console.error(\"Select 获取数据出错\", error)\r\n                }\r\n                if (this.__componentWillUnmount) return\r\n                this.setState({\r\n                    dataSource,\r\n                    spinning: false\r\n                })\r\n                return dataSource\r\n            }\r\n            /**\r\n             * 联动模型\r\n             */\r\n            onlinkage() {\r\n                try {\r\n                    if (this.props.linkage && lodash.isFunction(this.props.dataSource)) {\r\n                        const { getFieldValue, getFieldsValue, resetFields, setFields }: WrappedFormUtils = this.props.form;\r\n                        const linkageValue = getFieldsValue(this.props.linkage);\r\n                        // 联动数据无变化\r\n                        if (lodash.isEqual(linkageValue, this.__linkage)) {\r\n                            return\r\n                        }\r\n                        this.__linkage = linkageValue;\r\n                        this.onLoadingData(this.props.dataSource(this.__linkage))\r\n                    }\r\n                } catch (error) {\r\n                    console.error(\"TCL: LoadingData -> onlinkage -> error\", error)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}","export * from './create/error';\r\nexport * from './create/form';\r\nexport * from './create/dialog';\r\nexport * from './create/loadingData';\r\nexport * from './create/valueFormatter';\r\n","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2019-06-26 16:55:28\r\n * @modify date 2019-06-26 16:55:28\r\n * @desc [description]\r\n */\r\n\r\nimport { ColDef } from 'ag-grid-community';\r\nimport { AgGridReactProps } from 'ag-grid-react';\r\nimport { PaginationProps } from 'antd/lib/pagination';\r\nimport * as React from 'react';\r\nimport Store from 'store/dataSource';\r\n// import GridCommunity from './gridCommunity';\r\nimport \"./style.less\";\r\nconst GridCommunity = React.lazy(() => import('./gridCommunity'));\r\ninterface ITableProps extends AgGridReactProps {\r\n    /** 状态 */\r\n    Store: Store;\r\n    /**\r\n     * 行 操作\r\n     */\r\n    rowAction?: any;\r\n    /**\r\n     * 行 操作列配置\r\n     */\r\n    rowActionCol?: ColDef;\r\n    /**\r\n     * 容器样式\r\n     */\r\n    style?: React.CSSProperties;\r\n    /**\r\n     * 主题\r\n     */\r\n    theme?: string;\r\n    /**\r\n     * 样式\r\n     */\r\n    className?: string;\r\n    /**\r\n     * 分页\r\n     */\r\n    paginationProps?: PaginationProps | boolean;\r\n    /**\r\n     * 加载中\r\n     */\r\n    loading?: boolean;\r\n    /**\r\n     * 选择\r\n     */\r\n    checkboxSelection?: boolean;\r\n}\r\nexport const AgGrid: React.FC<ITableProps> = (props) => (\r\n    <React.Suspense fallback={<div style={{ height: 300 }}></div>}>\r\n        <GridCommunity {...props} />\r\n    </React.Suspense>\r\n);\r\nexport default AgGrid","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2019-02-24 17:06:15\r\n * @modify date 2019-02-24 17:06:15\r\n * @desc [description]\r\n */\r\nimport * as React from 'react';\r\n\r\ninterface IAppProps {\r\n    visible: boolean\r\n}\r\n/**\r\n * 控制组件 展示\r\n */\r\nexport class Visible extends React.Component<IAppProps, any> {\r\n    render() {\r\n        if (this.props.visible) {\r\n            return this.props.children;\r\n        }\r\n        return null;\r\n    }\r\n}\r\n","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2019-02-24 17:06:25\r\n * @modify date 2019-02-24 17:06:25\r\n * @desc [description]\r\n */\r\nimport { Button, Divider, Icon, Modal, Upload, message } from 'antd';\r\nimport { DesError } from 'components/decorators';\r\nimport { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\nimport Store from 'store/dataSource';\r\nimport RequestFiles from 'utils/RequestFiles';\r\nimport { FormattedMessage } from 'react-intl';\r\n/**\r\n * 导入导出\r\n */\r\n@DesError\r\n@observer\r\nexport class ImportModal extends React.Component<{ Store: Store }, any> {\r\n    Store = this.props.Store;\r\n    success = false;\r\n    onTemplate() {\r\n        this.Store.onTemplate()\r\n    }\r\n    onCancel() {\r\n        const { PageState } = this.Store;\r\n        PageState.visiblePort = false\r\n    }\r\n    async onImport(id) {\r\n        // 导入\r\n        const res = await this.props.Store.onImport(id);\r\n        if (res) {\r\n            this.Store.onSearch();\r\n            this.onCancel();\r\n            // this.success = true;\r\n        }\r\n    }\r\n    render() {\r\n        const DraggerProps = {\r\n            name: 'file',\r\n            // multiple: true,\r\n            showUploadList: false,\r\n            accept: \".xlsx,.xls\",\r\n            action: RequestFiles.FileTarget,\r\n            onChange: info => {\r\n                const status = info.file.status\r\n                if (status !== 'uploading') {\r\n                }\r\n                if (status === 'done') {\r\n                    const response = info.file.response\r\n                    if (typeof response.Id === \"string\") {\r\n                        this.onImport(response.Id)\r\n                    } else {\r\n                        message.error(`${info.file.name} ${response.message}`)\r\n                    }\r\n                } else if (status === 'error') {\r\n                    message.error(`${info.file.name} 上传失败`)\r\n                }\r\n            },\r\n            onRemove: (file) => {\r\n                const response = file.response\r\n                if (typeof response.Id === \"string\") {\r\n                    RequestFiles.onFileDelete(response.Id)\r\n                }\r\n            },\r\n        }\r\n        const { PageState } = this.Store;\r\n        return (\r\n            <Modal\r\n                title={<FormattedMessage id=\"action.import\" />}\r\n                centered\r\n                visible={PageState.visiblePort}\r\n                destroyOnClose={true}\r\n                width={600}\r\n                cancelText=\"取消\"\r\n                footer={null}\r\n                onCancel={this.onCancel.bind(this)}\r\n            >\r\n                <div >\r\n                    <div >\r\n                    <FormattedMessage id=\"tips.text.importExplain\" /><Divider type=\"vertical\" /> <Button icon=\"download\" onClick={this.onTemplate.bind(this)}><FormattedMessage id=\"action.downloadTemplate\" /></Button>\r\n                    </div>\r\n                    <Divider style={{ margin: \"5px 0\" }} />\r\n                    <Upload.Dragger {...DraggerProps}>\r\n                        <p className=\"ant-upload-drag-icon\">\r\n                            <Icon type=\"inbox\" />\r\n                        </p>\r\n                        <p className=\"ant-upload-text\"><FormattedMessage id=\"tips.text.upload\" /></p>\r\n                    </Upload.Dragger>\r\n                </div>\r\n            </Modal>\r\n        );\r\n    }\r\n}","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2019-02-24 17:06:31\r\n * @modify date 2019-02-24 17:06:31\r\n * @desc [description]\r\n */\r\nimport { Button, Col, Divider, Drawer, Modal, Row, Spin } from 'antd';\r\nimport { DrawerProps } from 'antd/lib/drawer';\r\nimport { ModalProps } from 'antd/lib/modal';\r\nimport { DesError } from 'components/decorators';\r\nimport GlobalConfig from 'global.config';\r\nimport Hammer from 'hammerjs';\r\nimport lodash from 'lodash';\r\nimport { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\nimport './style.less';\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\n\r\nclass DndTitle extends React.Component<{ styleState: { left: number, top: number }, onUpdate?: (style: React.CSSProperties) => void }, any> {\r\n    deltaX = 0;\r\n    deltaY = 0;\r\n    panstart = false;\r\n    div = React.createRef<any>();\r\n    onUpdate(x, y) {\r\n        this.props.onUpdate({\r\n            // transform: `translate(${x}px,${y}px)`\r\n            left: x,\r\n            top: y\r\n        })\r\n    }\r\n    hammer;\r\n    componentDidMount() {\r\n        const hammer = this.hammer = new Hammer(this.div.current)\r\n        hammer.on('panstart', (event) => {\r\n            if (this.props.styleState.left && this.props.styleState.top) {\r\n                this.deltaX = this.props.styleState.left;\r\n                this.deltaY = this.props.styleState.top;\r\n            }\r\n            this.panstart = true;\r\n        });\r\n        hammer.on('panmove', (event) => {\r\n            this.onUpdate(event.deltaX + this.deltaX, event.deltaY + this.deltaY)\r\n        });\r\n        hammer.on('panend', (event) => {\r\n            this.panstart = false\r\n        });\r\n    }\r\n    componentWillUnmount() {\r\n        this.hammer && this.hammer.destroy()\r\n    }\r\n    shouldComponentUpdate() {\r\n        return !this.panstart\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"modal-dnd-title\" ref={this.div}>\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n/**\r\n *  详情 窗口 \r\n *  根据 类型 显示不同的 窗口\r\n */\r\n@DesError\r\nexport class InfoShell extends React.Component<DrawerProps | ModalProps, any> {\r\n    state = {\r\n        style: {}\r\n    }\r\n    render() {\r\n        if (GlobalConfig.settings.infoType === \"Modal\") {\r\n            const onClose = (this.props as DrawerProps).onClose\r\n            const onCancel = (e) => { onClose && onClose(e) }\r\n            return <Modal\r\n                width={GlobalConfig.infoTypeWidth}\r\n                maskClosable={false}\r\n                destroyOnClose\r\n                onCancel={onCancel}\r\n                {...this.props as any}\r\n                style={this.state.style}\r\n                title={\r\n                    <DndTitle styleState={this.state.style as any} onUpdate={style => this.setState({ style })}>\r\n                        {this.props.title}\r\n                    </DndTitle>\r\n                }\r\n                footer={<div className=\"data-view-modal-footer\"></div>}\r\n                className={` ${this.props.className}`}\r\n                wrapClassName=\"data-view-modal\"\r\n            >\r\n                {this.props.children}\r\n            </Modal>\r\n        }\r\n        const onCancel = (this.props as ModalProps).onCancel\r\n        const onClose = (e) => { onCancel && onCancel(e) }\r\n        return <Drawer\r\n            width={GlobalConfig.infoTypeWidth}\r\n            onClose={onClose}\r\n            destroyOnClose\r\n            {...this.props as any}\r\n            className={`data-view-drawer ${this.props.className}`}>\r\n            {this.props.children}\r\n        </Drawer>\r\n    }\r\n}\r\n/**\r\n * Items 外壳 布局\r\n */\r\n@DesError\r\n@observer\r\nexport class InfoShellLayout extends React.Component<{ loading?: boolean }, any> {\r\n    render() {\r\n        const childrens = React.Children.toArray(this.props.children).map((node: any) => {\r\n            try {\r\n                // console.log(lodash.has(node.props, \"label\"), node.props)\r\n                // 没有嵌套 col 的自动添加 嵌套的 解除\r\n                // if ([\"fieId\", \"models\", \"labelCol\", \"wrapperCol\", \"label\", \"hasFeedback\"].some(x => lodash.has(node.props, x))) {\r\n                if (lodash.isEqual(node.type.wtmType, 'FormItem') || [\"labelCol\", \"wrapperCol\", \"label\", \"hasFeedback\"].some(x => lodash.has(node.props, x))) {\r\n                    const layout = lodash.get(node, \"props.layout\");\r\n                    const hidden = lodash.get(node, \"props.hidden\");\r\n                    if (hidden) {\r\n                        return node\r\n                    }\r\n                    return <InfoShellCol\r\n                        key={node.key}\r\n                        layout={layout}\r\n                    >\r\n                        {node}\r\n                    </InfoShellCol>\r\n                }\r\n                return node\r\n            } catch (error) {\r\n                return node\r\n            }\r\n        });\r\n        const spinning = lodash.get(this.props, 'loading', false);\r\n        return <div className=\"data-view-form-item\">\r\n            <Spin tip=\"Loading...\" spinning={lodash.get(this.props, 'loading', false)} key={lodash.toString(spinning)}>\r\n                    {childrens}\r\n            </Spin>\r\n        </div>\r\n    }\r\n}\r\n/**\r\n * Items 外壳 底部按钮\r\n */\r\n@DesError\r\n@observer\r\nexport class InfoShellFooter extends React.Component<{ btns?: React.ReactNode, loadingEdit?: boolean, onCancel?: () => void, submit?: boolean }, any> {\r\n    render() {\r\n        return <>\r\n            <InfoShellLayout loading={this.props.loadingEdit}>\r\n                {this.props.children}\r\n            </InfoShellLayout>\r\n            {this.props.btns ? this.props.btns : <div className=\"data-view-form-btns\" >\r\n                <Button onClick={() => this.props.onCancel && this.props.onCancel()} ><FormattedMessage id=\"action.close\" /></Button>\r\n                {this.props.submit && <>\r\n                    <Divider type=\"vertical\" />\r\n                    <Button loading={this.props.loadingEdit} type=\"primary\" htmlType=\"submit\"  ><FormattedMessage id=\"action.submit\" /></Button>\r\n                </>}\r\n            </div>}\r\n\r\n        </>\r\n    }\r\n}\r\n/**\r\n * Items 外壳\r\n */\r\nexport class InfoShellCol extends React.Component<{ layout?: string }, any> {\r\n    columnCount = GlobalConfig.infoColumnCount || 1;\r\n    render() {\r\n        let colSpan = 24;\r\n        if (this.props.layout != \"row\") {\r\n            colSpan = 24 / this.columnCount;//每列 值\r\n        }\r\n        return <Col lg={colSpan} md={12} sm={24} xs={24} {...this.props}>\r\n            {this.props.children}\r\n        </Col>\r\n    }\r\n}\r\n\r\n/**\r\n* 转换 value 值\r\n* @param value value 值\r\n* @param showType 转换类型 span 情况下 非基础类型。需要格式为字符串。不然 react 会报错\r\n*/\r\nexport function toValues(value: any, showType: \"value\" | \"span\" = \"value\") {\r\n    // 检查 value 是否是 null 或者 undefined。\r\n    if (lodash.isNil(value)) {\r\n        return\r\n    }\r\n    // 检查数字类型 \r\n    // if (lodash.isNumber(value)) {\r\n    //     return lodash.toString(value)\r\n    // }\r\n    // 检查其他\r\n    if (lodash.isArray(value) || lodash.isObject(value)) {\r\n        return lodash.toString(value)\r\n    }\r\n    return value\r\n}","\r\nimport { Icon, Input, Switch } from 'antd';\r\nimport Form, { GetFieldDecoratorOptions, WrappedFormUtils } from 'antd/lib/form/Form';\r\nimport { ToImg } from 'components/dataView';\r\nimport GlobalConfig from 'global.config'; //全局配置\r\nimport lodash from 'lodash';\r\nimport { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\nconst formItemLayout = lodash.cloneDeep(GlobalConfig.formItemLayout);//布局\r\nconst formItemLayoutver = Math.floor((24 - formItemLayout.labelCol.span - formItemLayout.wrapperCol.span) / 2);\r\nconst labelSpan = formItemLayout.labelCol.span / GlobalConfig.infoColumnCount;\r\nconst warppSpan = 24 - labelSpan - formItemLayoutver;\r\n/**\r\n * 表单item\r\n */\r\ninterface IFormItemProps {\r\n    fieId: string;\r\n    /** 模型 */\r\n    models?: {\r\n        [key: string]: {\r\n            label: React.ReactNode,\r\n            rules: any[],\r\n            formItem: React.ReactNode\r\n        };\r\n    };\r\n    /** 隐藏域 */\r\n    hidden?: boolean;\r\n    /** 模型的 value 优先级大于  defaultValues 中的值*/\r\n    value?: any;\r\n    /** 禁用 控件输入更改 */\r\n    disabled?: boolean;\r\n    /** 禁用 组件 显示 span */\r\n    display?: boolean;\r\n    /** 默认值 列表 */\r\n    defaultValues?: Object;\r\n    /** Form.Item 的 props */\r\n    formItemProps?: {\r\n        /** 隐藏域 */\r\n        hidden?: boolean;\r\n        /** 模型的 value 优先级大于  defaultValues 中的值*/\r\n        value?: any;\r\n        /** 禁用 控件输入更改 */\r\n        disabled?: boolean;\r\n        /** 禁用 组件 显示 span */\r\n        display?: boolean;\r\n        /** 默认值 列表 */\r\n        defaultValues?: Object;\r\n    };\r\n    /** 装饰器参数  */\r\n    decoratorOptions?: GetFieldDecoratorOptions;\r\n    /** 布局类型 row 整行 span 24 */\r\n    layout?: \"row\" | \"row-hidden-label\";\r\n    /** 覆盖默认渲染 */\r\n    render?: (props) => React.ReactNode;\r\n    [key: string]: any;\r\n}\r\n@observer\r\nexport class FormItem extends React.Component<IFormItemProps, any> {\r\n    static wtmType = \"FormItem\";\r\n    render() {\r\n        const { form = {}, hidden, value, fieId, models, decoratorOptions, formItemProps = {}, defaultValues, disabled, display, render, layout } = this.props;\r\n        if (typeof fieId === \"undefined\") {\r\n            return <div>fieId 为 空</div>\r\n        }\r\n        const { getFieldDecorator }: WrappedFormUtils = form;\r\n        // 获取模型 item\r\n        const model = lodash.get(models, fieId) || { rules: [], label: `未获取到模型(${fieId})`, formItem: <Input placeholder={`未获取到模型(${fieId})`} /> };\r\n        let options: GetFieldDecoratorOptions = {\r\n            rules: model.rules,\r\n            ...decoratorOptions\r\n        };\r\n        // 获取默认值 默认值，禁用，显示 span \r\n        if (value || typeof defaultValues === \"object\") {\r\n            options.initialValue = value || lodash.get(defaultValues, fieId, formItemProps.value);\r\n        }\r\n        // 隐藏 域\r\n        if (hidden || formItemProps.hidden) {\r\n            getFieldDecorator && getFieldDecorator(fieId as never, options);\r\n            return null\r\n        }\r\n        let renderItem = null;\r\n        // 重写渲染\r\n        if (typeof render === \"function\") {\r\n            renderItem = render(this.props);\r\n        } else {\r\n            renderItem = itemRender(this.props, { options, model })\r\n        }\r\n        // 布局\r\n        // let itemlayout = layout == \"row\" ? formItemLayoutRow : formItemLayout;//整行\r\n        let itemlayout: any = formItemLayout;\r\n        if (layout === \"row\") {\r\n            itemlayout = {\r\n                labelCol: {\r\n                    lg: labelSpan,\r\n                    md: labelSpan,\r\n                    sm: 24,\r\n                    xs: 24,\r\n                },\r\n                wrapperCol: {\r\n                    lg: warppSpan,\r\n                    md: warppSpan,\r\n                    sm: 24,\r\n                    xs: 24,\r\n                },\r\n            }\r\n            // 富文本 分 2行\r\n            if (lodash.get(model.formItem, \"type.wtmType\") === \"Editor\") {\r\n                itemlayout = {\r\n                    labelCol: {\r\n                        lg: labelSpan,\r\n                        md: labelSpan,\r\n                        sm: 24,\r\n                        xs: 24,\r\n                    },\r\n                    wrapperCol: {\r\n                        lg: 24,\r\n                        md: 24,\r\n                        sm: 24,\r\n                        xs: 24,\r\n                    },\r\n                }\r\n            }\r\n        } else if (layout === \"row-hidden-label\") {\r\n            itemlayout = {\r\n                labelCol: {\r\n                    span: 0,\r\n                },\r\n                wrapperCol: {\r\n                    span: 24\r\n                },\r\n            }\r\n        } else {\r\n            itemlayout = {\r\n                labelCol: {\r\n                    lg: formItemLayout.labelCol.span,\r\n                    md: formItemLayout.labelCol.span,\r\n                    sm: 24,\r\n                    xs: 24,\r\n                },\r\n                wrapperCol: {\r\n                    lg: formItemLayout.wrapperCol.span,\r\n                    md: formItemLayout.wrapperCol.span,\r\n                    sm: 24,\r\n                    xs: 24,\r\n                },\r\n            }\r\n        }\r\n        // console.log(models, renderItem)\r\n        return <Form.Item\r\n            // label={GlobalConfig.language === \"zh-CN\" ? model.label : lodash.replace(fieId, 'Entity.', '')} \r\n            label={model.label}\r\n            {...itemlayout}>\r\n            {renderItem}\r\n        </Form.Item >\r\n    }\r\n}\r\n/**\r\n * 重写 渲染 组件\r\n * @param props \r\n * @param config \r\n */\r\nfunction itemRender(props: IFormItemProps, config) {\r\n    const { form = {}, disabled, display, fieId, formItemProps = {} } = props;\r\n    const { options, model } = config;\r\n    let { formItem } = model;\r\n    const { getFieldDecorator }: WrappedFormUtils = form;\r\n    let renderItem, propsNew: any = { form };\r\n    if (lodash.isFunction(formItem)) {\r\n        formItem = formItem(props)\r\n    }\r\n    // 禁用显示 span\r\n    if (lodash.isEqual(display, true) || lodash.isEqual(formItemProps.display, true)) {\r\n        propsNew.display = \"true\";\r\n        propsNew.value = options.initialValue;\r\n        // 创建一个存储 值得 from 级联使用\r\n        getFieldDecorator && getFieldDecorator(fieId as never, options);\r\n        renderItem = itemToDisplay(props, config);\r\n    } else {\r\n        //  判断 组件 是否 已经 是 getFieldDecorator组件\r\n        if (lodash.get(formItem, \"props.data-__field\")) {\r\n            renderItem = formItem;\r\n        } else {\r\n            if (getFieldDecorator) {\r\n                renderItem = getFieldDecorator(fieId as never, options)(formItem);\r\n            } else {\r\n                renderItem = formItem;\r\n                console.warn(\"没有解析到 getFieldDecorator\")\r\n            }\r\n        }\r\n    }\r\n    // 禁用 输入控件\r\n    if (lodash.isEqual(disabled, true) || lodash.isEqual(formItemProps.disabled, true)) {\r\n        propsNew.disabled = true;\r\n    }\r\n    // 布尔类型 Swatch\r\n    if (lodash.isEqual(options.initialValue, true)) {\r\n        propsNew.defaultChecked = true;\r\n    }\r\n    // console.log(propsNew)\r\n    return React.cloneElement(renderItem, propsNew);\r\n}\r\n/**\r\n * 重写渲染 禁用 组件\r\n * @param props \r\n * @param config \r\n */\r\nfunction itemToDisplay(props: IFormItemProps, config) {\r\n    const { disabled, display, fieId } = props;\r\n    const { options, model } = config;\r\n    let { formItem } = model;\r\n    if (lodash.isFunction(formItem)) {\r\n        formItem = formItem(props)\r\n    }\r\n    let value = options.initialValue;\r\n    let render = null;\r\n    switch (lodash.get(formItem, \"type.wtmType\")) {\r\n        case \"UploadImg\":\r\n            render = <ToImg fileID={value} />\r\n            break;\r\n        case \"Select\":\r\n        case \"Transfer\":\r\n        case \"Editor\":\r\n        case \"DatePicker\":\r\n        case \"Cascader\":\r\n        case \"Radio\":\r\n        case \"EditTable\":\r\n            render = formItem;// React.cloneElement(model.formItem, {});\r\n            break;\r\n        default:\r\n            // 数据 是 obj 类型转换 为 json 字符串，防止 react 报错\r\n            if (lodash.isObject(value)) {\r\n                value = value && JSON.stringify(value);\r\n            } else if (lodash.isBoolean(value) || value === \"true\" || value === \"false\") {\r\n                value = (value || value === \"true\") ? <Switch checkedChildren={<Icon type=\"check\" />} unCheckedChildren={<Icon type=\"close\" />} disabled defaultChecked /> : <Switch checkedChildren={<Icon type=\"check\" />} unCheckedChildren={<Icon type=\"close\" />} disabled />;\r\n            }\r\n            render = <span>{value}</span>\r\n            break;\r\n    }\r\n    return render\r\n}\r\n","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2019-03-08 02:36:43\r\n * @modify date 2019-03-08 02:36:43\r\n * @desc [description]\r\n */\r\nimport { Button, Divider, message, notification, Skeleton, Spin, Icon, Row, Col } from 'antd';\r\nimport Form, { WrappedFormUtils } from 'antd/lib/form/Form';\r\nimport globalConfig from 'global.config';\r\nimport lodash from 'lodash';\r\nimport { Debounce } from 'lodash-decorators';\r\nimport * as React from 'react';\r\nimport { Help } from 'utils/Help';\r\nimport { DesError } from 'components/decorators';\r\n\r\nimport { InfoShell } from '../infoShell';\r\nimport { FormattedMessage } from 'react-intl';\r\ndeclare type Props = {\r\n    form?: WrappedFormUtils;\r\n    // InfoShell?: DrawerProps | ModalProps;\r\n    /** 标题 */\r\n    title?: React.ReactNode;\r\n    /** 按钮可用状态 */\r\n    disabled?: boolean;\r\n    /** 显示 提交按钮 */\r\n    showSubmit?: boolean;\r\n    /** 关闭按钮 文案 */\r\n    closeText?: string;\r\n    /** 提交按钮 文案 */\r\n    submitText?: string;\r\n    /** 图标 */\r\n    icon?: string;\r\n    /** 加载 */\r\n    loading?: boolean;\r\n    /** 宽度*/\r\n    width?: string | number;\r\n    /** 自定义按钮 */\r\n    button?: (props: {\r\n        /** form 提交 事件 */\r\n        onSubmit: () => void;\r\n        /** 关闭窗口 事件 */\r\n        onCancel: () => void;\r\n    }) => React.ReactNode;\r\n    /**ß\r\n     * 按钮类型ß\r\n     */\r\n    type?: 'button' | 'a';\r\n    /**\r\n     * 表单提交 方法     */\r\n    onFormSubmit?: (values, onClose?) => Promise<boolean> | void | boolean;\r\n    [key: string]: any\r\n};\r\n@DesError\r\nexport class DialogForm extends React.Component<Props, any> {\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        if (!lodash.isEqual(this.props.disabled, nextProps.disabled)) {\r\n            return true;\r\n        }\r\n        if (nextState.load) {\r\n            return !lodash.eq(this.state, nextState);\r\n        }\r\n        return false\r\n    }\r\n    key = Date.now()\r\n    state = {\r\n        //显示\r\n        visible: false,\r\n        //初始化装载  按钮 第一次 点击 显示 为 已装载 优化性能\r\n        load: false,\r\n    }\r\n    @Debounce(100)\r\n    onVisible(visible = !this.state.visible) {\r\n        this.setState(state => {\r\n            state.visible = visible;\r\n            if (!state.load) {\r\n                state.load = true;\r\n                this.Optimization = Form.create()(Optimization);\r\n            }\r\n            return { ...state }\r\n        })\r\n    }\r\n    Optimization;//= Form.create()(Optimization);\r\n    render() {\r\n        const option = {\r\n            title: lodash.get(this.props, 'title', '未设置标题'),\r\n            disabled: lodash.get(this.props, \"disabled\", false),\r\n            showSubmit: lodash.get(this.props, 'showSubmit', true),\r\n            closeText: lodash.get(this.props, 'closeText', <FormattedMessage id=\"action.close\" />),\r\n            submitText: lodash.get(this.props, 'submitText', <FormattedMessage id=\"action.submit\" />),\r\n            icon: lodash.get(this.props, 'icon'),\r\n            type: lodash.get(this.props, 'type', 'button'),\r\n            button: lodash.get(this.props, 'button'),\r\n            width: lodash.get(this.props, 'width', globalConfig.infoTypeWidth),\r\n        }\r\n        const button = option.type === \"button\" ? <Button\r\n            icon={option.icon}\r\n            disabled={option.disabled}\r\n            onClick={this.onVisible.bind(this, true)}>{option.title}</Button> :\r\n            <a onClick={this.onVisible.bind(this, true)} >{option.icon && <Icon type={option.icon} />} {option.title}</a>;\r\n        return (\r\n            <React.Fragment key={this.key}>\r\n                {button}\r\n                {this.state.load && <this.Optimization\r\n                    option={option}\r\n                    visible={this.state.visible}\r\n                    onVisible={this.onVisible.bind(this)}\r\n                >\r\n                    {this.props.children}\r\n                </this.Optimization>}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n};\r\n@DesError\r\nclass Optimization extends React.Component<{\r\n    option: any;\r\n    visible: any;\r\n    onVisible: any;\r\n    onFormSubmit?: any;\r\n    form?: WrappedFormUtils;\r\n}, any> {\r\n    constructor(props) {\r\n        super(props)\r\n        // if (globalConfig.development && this.props.visible) {\r\n        console.log('装载成功', this)\r\n        // }\r\n    }\r\n    // shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n\r\n    //     return true\r\n    // }\r\n    state = { loading: false }\r\n    onVisible(visible) {\r\n        this.props.onVisible(visible)\r\n    }\r\n\r\n    onSubmit(e?) {\r\n        if (e) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        }\r\n        const onFormSubmit = this.props.onFormSubmit || lodash.get(this.props.children, 'type.onFormSubmit');\r\n        if (lodash.isFunction(onFormSubmit)) {\r\n            // debugger\r\n            // 加载中 返回。\r\n            if (this.state.loading) return;\r\n            this.props.form.validateFields((err, values) => {\r\n                console.info('表单数据', values)\r\n                if (err) {\r\n                    // notification.warn({ key: 'validateFields_err', message: \"数据未填写完整\" })\r\n                    this.state.loading && this.setState({ loading: false })\r\n                    return\r\n                }\r\n                this.setState({ loading: true }, async () => {\r\n                    try {\r\n                        const callbackValue = onFormSubmit(values, this.onVisible.bind(this, false));\r\n                        // console.log(callbackValue)\r\n                        let res = false;\r\n                        if (lodash.isBoolean(callbackValue)) {\r\n                            res = callbackValue;\r\n                        } else if (callbackValue instanceof Promise) {\r\n                            res = await callbackValue\r\n                        } else if (lodash.isFunction(callbackValue)) {\r\n                            res = callbackValue()\r\n                        } else {\r\n                            globalConfig.development && notification.warn({\r\n                                key: 'validateFields_err',\r\n                                message: \"onFormSubmit 无返回值  \",\r\n                                description: \"返回 true | Promise<boolean> 关闭窗口\"\r\n                            })\r\n                        }\r\n                        console.log(res)\r\n                        if (res) {\r\n                            this.onVisible(false)\r\n                        }\r\n\r\n                    } catch (error) {\r\n                        this.onSetErrorMsg(error)\r\n                        // onErrorMessage(\"操作失败\", lodash.map(error, (value, key) => ({ value, key })))\r\n                        console.error(error)\r\n                    } finally {\r\n                        this.setState({ loading: false })\r\n                    }\r\n                });\r\n            });\r\n        } else {\r\n            globalConfig.development && message.warning(\"未 配置 onFormSubmit 函数\")\r\n            // console.log(\"没有\")\r\n        }\r\n    }\r\n    onSetErrorMsg(errors) {\r\n        const { setFields, getFieldValue } = this.props.form;\r\n        setFields(lodash.mapValues(lodash.get(errors, 'Form', {}), (error, key) => {\r\n            return {\r\n                value: getFieldValue(key),\r\n                errors: [new Error(error)]\r\n            }\r\n        }))\r\n    }\r\n    renderFrom() {\r\n        const { option, visible } = this.props;\r\n        const children = this.props.children && React.cloneElement(this.props.children as any, { form: this.props.form });\r\n        if (option.button) {\r\n            return <div className='app-shell-body'>\r\n                <Spin tip=\"Loading...\" spinning={this.state.loading} >\r\n                    {children}\r\n                </Spin>\r\n                <div className=\"data-view-form-btns\" >\r\n                    {option.button({\r\n                        onSubmit: (event?) => { this.onSubmit(event) },\r\n                        onCancel: (event?) => { this.onVisible(false) }\r\n                    })}\r\n                </div>\r\n            </div>\r\n        }\r\n        if (option.showSubmit) {\r\n            return <Form layout=\"horizontal\" onSubmit={this.onSubmit.bind(this)} className='app-shell-body'>\r\n                <Spin tip=\"Loading...\" spinning={this.state.loading} >\r\n                    {children}\r\n                </Spin>\r\n                <div className=\"data-view-form-btns\" >\r\n                    <Button onClick={this.onVisible.bind(this, false)} > {option.closeText} </Button>\r\n                    <Divider type=\"vertical\" />\r\n                    <Button loading={this.state.loading} type=\"primary\" htmlType=\"submit\" >{option.submitText} </Button>\r\n                </div>\r\n            </Form>\r\n        }\r\n        return <div className='app-shell-body'>\r\n            <Spin tip=\"Loading...\" spinning={this.state.loading} >\r\n                {children}\r\n            </Spin>\r\n            <div className=\"data-view-form-btns\" >\r\n                <Button onClick={this.onVisible.bind(this, false)} > {option.closeText} </Button>\r\n            </div>\r\n        </div>\r\n\r\n    }\r\n    render() {\r\n        const { option, visible } = this.props;\r\n        // console.log(\"Optimization\", this)\r\n        return (\r\n            <InfoShell\r\n                title={option.title}\r\n                visible={visible}\r\n                onCancel={this.onVisible.bind(this, false)}\r\n                width={option.width}\r\n                {...this.props}\r\n            >\r\n                {this.renderFrom()}\r\n            </InfoShell>\r\n        );\r\n    }\r\n};\r\nexport function DialogFormDes(params: {\r\n    /**\r\n     * 表单提交\r\n     */\r\n    onFormSubmit?: (values) => Promise<boolean> | Function | void,\r\n    /**\r\n     * 表单 默认 数据加载\r\n     */\r\n    onLoadData?: (values, props) => Promise<boolean> | Object,\r\n    /**\r\n     * 加载提示文字 默认 Loading。。。\r\n     */\r\n    tip?: string;\r\n}) {\r\n    return (Component: React.ComponentClass<any, any>) => {\r\n        const DFC: any = class extends React.PureComponent<{ loadData: Object | Function }, any> {\r\n            constructor(props) {\r\n                super(props)\r\n            }\r\n            isOnLoadData = lodash.isFunction(params.onLoadData)\r\n            isLoadData = this.props.loadData && this.isOnLoadData || false;\r\n            state = {\r\n                ...this.state,\r\n                __spinning: true,\r\n                __details: {},\r\n                __key: Help.GUID()\r\n            }\r\n            async componentDidMount() {\r\n                // if (this.isOnLoadData && this.props.loadData) {\r\n                let res = {}\r\n                const time = Date.now();\r\n                if (this.isOnLoadData) {\r\n                    // 检查 loadData 类型 函数 执行 后获取返回值\r\n                    let loadData = this.props.loadData ? lodash.isFunction(this.props.loadData) ? this.props.loadData() : this.props.loadData : {};\r\n                    const onLoadData = params.onLoadData.bind(this)(loadData, this.props);\r\n                    if (onLoadData instanceof Promise) {\r\n                        res = await onLoadData;\r\n                    } else if (lodash.isFunction(onLoadData)) {\r\n                        res = onLoadData();\r\n                    } else {\r\n                        res = onLoadData;\r\n                    }\r\n                }\r\n                // 强制 执行加载最少 400 毫秒\r\n                await new Promise((res, rej) => {\r\n                    lodash.delay(res, 600 - (Date.now() - time))\r\n                });\r\n                this.setState({ __details: res, __spinning: false, __key: Help.GUID() })\r\n                super.componentDidMount && super.componentDidMount()\r\n            }\r\n            render() {\r\n                const { __spinning, __details, __key } = this.state;\r\n                // const notLoadData = this.isOnLoadData && !this.props.loadData;\r\n                // return <Spin tip={params.tip || 'Loading...'} spinning={__spinning}>\r\n                return __spinning ? <Row type=\"flex\" align=\"top\" gutter={20}>\r\n                    <Col span={12}>\r\n                        <Skeleton paragraph={{ rows: 2 }} />\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Skeleton paragraph={{ rows: 2 }} />\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Skeleton paragraph={{ rows: 2 }} />\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Skeleton paragraph={{ rows: 2 }} />\r\n                    </Col>\r\n                </Row> : <Component {...this.props} defaultValues={__details} />\r\n                {/* </Spin> */ }\r\n            }\r\n        }\r\n        lodash.set(Component, 'onFormSubmit', params.onFormSubmit)\r\n        lodash.set(Component, 'onLoadData', params.onLoadData)\r\n        lodash.set(DFC, 'onFormSubmit', params.onFormSubmit)\r\n        lodash.set(DFC, 'onLoadData', params.onLoadData)\r\n        return DFC\r\n    }\r\n}\r\nexport function DialogFormSubmit(params?: any) {\r\n    return function (target: any, propertyKey: string, descriptor) {\r\n        // const newDes = {\r\n        //     configurable: true,\r\n        //     enumerable: false,\r\n        //     get() {\r\n        //         return ((params) => {\r\n        //             descriptor.value.bind(this)(params)(this);\r\n        //         }) as any;\r\n        //     },\r\n        // }\r\n        // console.log(newDes)\r\n        /**\r\n         * 设置原型中的 方法\r\n         */\r\n        lodash.set(target.constructor, 'onFormSubmit', descriptor.value.bind(target))\r\n        return descriptor\r\n    }\r\n}\r\nexport function DialogLoadData(params?: any) {\r\n    return function (target: any, propertyKey: string, descriptor) {\r\n        /**\r\n         * 设置原型中的 方法\r\n         */\r\n        lodash.set(target.constructor, 'onLoadData', descriptor.value.bind(target))\r\n        return descriptor\r\n    }\r\n}\r\n","export * from \"./content/agGrid\";\r\nexport * from \"./header/search\";\r\nexport * from \"./help/toImg\";\r\nexport * from \"./help/visible\";\r\nexport * from \"./other/import\";\r\nexport * from \"./other/infoShell\";\r\nexport * from \"./other/formItem\";\r\nexport * from \"./other/dialog\";\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"app-logo-3dPxp\",\"menu\":\"app-menu-1dKiV\",\"trigger\":\"app-trigger-2he8E\",\"right\":\"app-right-3PyZY\",\"action\":\"app-action-3zn1p\",\"search\":\"app-search-L3Nj6\",\"account\":\"app-account-1xDLU\",\"avatar\":\"app-avatar-2QqUm\",\"userDropdown\":\"app-userDropdown-3B9hE\",\"userAvatar\":\"app-userAvatar-1WGsf\",\"dark\":\"app-dark-JkI24\",\"userName\":\"app-userName-10XpR\",\"name\":\"app-name--Hglb\"};","import { Icon, Spin } from 'antd';\r\nimport * as React from 'react';\r\nimport './style.less';\r\nexport default () => <div className='app-layout-spin'><Spin size=\"large\" tip=\"loading...\" indicator={<Icon type=\"loading\" spin />} /></div>;","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2018-09-12 18:52:57\r\n * @modify date 2018-09-12 18:52:57\r\n * @desc [description]\r\n*/\r\nimport Authorize from './system/authorize';\r\nimport Meun from './system/menu';\r\nimport User from './system/user';\r\nclass store {\r\n    constructor() {\r\n        this.ready();\r\n        this.init();\r\n    }\r\n    /** 用户 */\r\n    User = User;\r\n    /** 认证 */\r\n    Authorize = Authorize;\r\n    /** 菜单 */\r\n    Meun = Meun;\r\n    ready() {\r\n        console.log(\"-----------全局状态------------\", this);\r\n    }\r\n    init() {\r\n\r\n    }\r\n};\r\nexport default new store();","import { DropDownProps } from 'antd/es/dropdown';\r\nimport { Dropdown } from 'antd';\r\nimport React from 'react';\r\nimport classNames from 'classnames';\r\nimport styles from './index.module.less';\r\n\r\ndeclare type OverlayFunc = () => React.ReactNode;\r\n\r\nexport interface HeaderDropdownProps extends DropDownProps {\r\n  overlayClassName?: string;\r\n  overlay: React.ReactNode | OverlayFunc;\r\n  placement?:\r\n    | 'bottomLeft'\r\n    | 'bottomRight'\r\n    | 'topLeft'\r\n    | 'topCenter'\r\n    | 'topRight'\r\n    | 'bottomCenter';\r\n}\r\n\r\nconst HeaderDropdown: React.FC<HeaderDropdownProps> = ({\r\n  overlayClassName: cls,\r\n  ...restProps\r\n}) => (\r\n  <Dropdown\r\n    overlayClassName={classNames(styles.container, cls)}\r\n    {...restProps}\r\n  />\r\n);\r\n\r\nexport default HeaderDropdown;\r\n","import { Icon, Menu } from 'antd';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\nimport HeaderDropdown from '../HeaderDropdown';\r\nimport styles from './index.module.less';\r\n\r\ninterface SelectLangProps {\r\n  className?: string;\r\n  selectedLang?: string;\r\n  changeLang?: (key) => void;\r\n}\r\nconst SelectLang: React.FC<SelectLangProps> = props => {\r\n  const { className, changeLang, selectedLang } = props;\r\n  // const selectedLang = 'zh-CN';\r\n  // const changeLang = ({ key }: ClickParam): void => setLocale(key, false);\r\n  // const locales = ['zh-CN', 'zh-TW', 'en-US', 'pt-BR'];\r\n  const locales = ['zh-CN', 'en-US'];\r\n  const languageLabels = {\r\n    'zh-CN': '简体中文',\r\n    'zh-TW': '繁体中文',\r\n    'en-US': 'English',\r\n    'pt-BR': 'Português',\r\n  };\r\n  const languageIcons = {\r\n    'zh-CN': '🇨🇳',\r\n    'zh-TW': '🇭🇰',\r\n    'en-US': '🇬🇧',\r\n    'pt-BR': '🇧🇷',\r\n  };\r\n  const langMenu = (\r\n    <Menu\r\n      className={styles.menu}\r\n      selectedKeys={[selectedLang]}\r\n      onClick={changeLang}\r\n    >\r\n      {locales.map(locale => (\r\n        <Menu.Item key={locale}>\r\n          <span role=\"img\" aria-label={languageLabels[locale]}>\r\n            {languageIcons[locale]}\r\n          </span>{' '}\r\n          {languageLabels[locale]}\r\n        </Menu.Item>\r\n      ))}\r\n    </Menu>\r\n  );\r\n  return (\r\n    <HeaderDropdown overlay={langMenu} placement=\"bottomRight\">\r\n      <span className={classNames(styles.dropDown, className)}>\r\n        <Icon type=\"global\" title={languageLabels[\"zh-CN\"]} />\r\n      </span>\r\n    </HeaderDropdown>\r\n  );\r\n};\r\n\r\nexport default SelectLang;\r\n","import React from 'react';\r\nimport SelectLang from '../SelectLang';\r\nimport styles from './index.module.less';\r\n\r\nexport type SiderTheme = 'light' | 'dark';\r\nexport interface GlobalHeaderRightProps {\r\n  theme?: SiderTheme;\r\n  layout?: 'sidemenu' | 'topmenu';\r\n  selectedLang?: string;\r\n  changeLang?: (key) => void;\r\n}\r\n\r\nconst GlobalHeaderRight: React.SFC<GlobalHeaderRightProps> = props => {\r\n  const { theme, layout = 'sidemenu', changeLang, selectedLang } = props;\r\n  let className = styles.right;\r\n  if (theme === 'dark' && layout === 'topmenu') {\r\n    className = `${styles.right}  ${styles.dark}`;\r\n  }\r\n\r\n  return (\r\n    <div className={className}>\r\n      {props.children}\r\n      <SelectLang className={styles.action} selectedLang={selectedLang} changeLang={changeLang} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GlobalHeaderRight;\r\n","\r\nimport { Avatar, Dropdown, Icon, Input, Menu } from 'antd';\r\nimport classNames from 'classnames';\r\nimport { DialogForm, DialogFormDes, FormItem, InfoShellLayout } from 'components/dataView';\r\nimport globalConfig from 'global.config';\r\nimport lodash from 'lodash';\r\nimport { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\nimport Store from 'store/index';\r\nimport Request from 'utils/Request';\r\nimport RequestFiles from 'utils/RequestFiles';\r\nimport styles from './index.module.less';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { getLocalesTemplate, getLocalesValue } from 'locale';\r\n@observer\r\nexport default class UserMenu extends React.Component<any, any> {\r\n  render() {\r\n    const { theme, layout = 'sidemenu' } = this.props;\r\n    let className = styles.userName;\r\n    if (theme === 'dark' && layout === 'topmenu') {\r\n      className = `${styles.userName}  ${styles.dark}`;\r\n    }\r\n    return (\r\n      <Dropdown overlayClassName={classNames(styles.userDropdown)} overlay={\r\n        <Menu>\r\n          {globalConfig.development && <Menu.Item>\r\n            <a href=\"http://localhost:5341/_codegen?ui=react\" target=\"_blank\">  <Icon type='code' /> <FormattedMessage id='action.user.codeGenerator' /></a>\r\n          </Menu.Item>}\r\n          {globalConfig.development && <Menu.Item>\r\n            <a href=\"http://localhost:5341/swagger\" target=\"_blank\">  <Icon type='bars' /> <FormattedMessage id='action.user.apiDocument' /></a>\r\n          </Menu.Item>}\r\n          <Menu.Item>\r\n            <DialogForm\r\n              title={<FormattedMessage id='action.user.changePassword' />}\r\n              icon=\"user\"\r\n              type=\"a\"\r\n            >\r\n              <InsertForm />\r\n            </DialogForm>\r\n          </Menu.Item>\r\n          <Menu.Item>\r\n            <a onClick={e => { Store.User.outLogin() }}>  <Icon type='logout' /> <FormattedMessage id='action.user.logout' /></a>\r\n          </Menu.Item>\r\n        </Menu>\r\n      } placement=\"bottomCenter\">\r\n        <div className={classNames(styles.userAvatar)} >\r\n          <Avatar size=\"large\" icon=\"user\" src={Store.User.UserInfo.PhotoId ? RequestFiles.onFileUrl(Store.User.UserInfo.PhotoId) : globalConfig.default.avatar} />\r\n          &nbsp;<span className={classNames(className)}>{Store.User.UserInfo.Name}</span>\r\n        </div>\r\n      </Dropdown>\r\n    );\r\n  }\r\n}\r\n\r\n@DialogFormDes({\r\n  onFormSubmit(values) {\r\n    return Request.ajax({\r\n      url: \"/api/Account/ChangePassword\",\r\n      method: \"post\",\r\n      body: values\r\n    }).toPromise()\r\n  }\r\n})\r\n@observer\r\nexport class InsertForm extends React.Component<any, any> {\r\n  models = {\r\n    \"OldPassword\": {\r\n      label: <FormattedMessage id='update.pwd.old' />,\r\n      rules: [{ \"required\": true, \"message\": <FormattedMessage id='tips.error.required' values={{ txt: getLocalesValue('update.pwd.old') }} /> }],\r\n      formItem: <Input.Password placeholder={getLocalesTemplate('tips.placeholder.input', { txt: getLocalesValue('update.pwd.old') })} />\r\n    },\r\n    \"NewPassword\": {\r\n      label: <FormattedMessage id='update.pwd.new' />,\r\n      rules: [{ \"required\": true, \"message\": <FormattedMessage id='tips.error.required' values={{ txt: getLocalesValue('update.pwd.new') }} /> }],\r\n      formItem: <Input.Password placeholder={getLocalesTemplate('tips.placeholder.input', { txt: getLocalesValue('update.pwd.new') })} />\r\n    },\r\n    \"NewPasswordComfirm\": {\r\n      label: <FormattedMessage id='update.pwd.confirm' />,\r\n      rules: [{ \"required\": true, \"message\": <FormattedMessage id='tips.error.required' values={{ txt: getLocalesValue('update.pwd.confirm') }} /> }, {\r\n        validator: (rule, value, callback) => {\r\n          const form = this.props.form;\r\n          if (value && value !== form.getFieldValue('NewPassword')) {\r\n            callback(getLocalesValue('update.pwd.inconsistent'));\r\n          } else {\r\n            callback();\r\n          }\r\n        }\r\n      }],\r\n      formItem: <Input.Password placeholder={getLocalesValue('update.pwd.confirm')} />\r\n    },\r\n  };\r\n  render() {\r\n    const props = {\r\n      ...this.props,\r\n      models: this.models,\r\n    }\r\n    return <InfoShellLayout>\r\n      <FormItem {...props} fieId=\"UserId\" layout=\"row\" value={lodash.get(Store.User.UserInfo, 'Id')} hidden />\r\n      <FormItem {...props} fieId=\"OldPassword\" layout=\"row\" />\r\n      <FormItem {...props} fieId=\"NewPassword\" layout=\"row\" />\r\n      <FormItem {...props} fieId=\"NewPasswordComfirm\" layout=\"row\" />\r\n    </InfoShellLayout>\r\n  }\r\n}\r\n","import { Icon, Tooltip } from 'antd';\r\n\r\nimport React from 'react';\r\n\r\nexport interface BlockCheckboxProps {\r\n  value: string;\r\n  onChange: (key: string) => void;\r\n  list: {\r\n    title: string;\r\n    key: string;\r\n    url: string;\r\n  }[];\r\n}\r\n\r\nconst baseClassName = 'ant-pro-setting-drawer-block-checbox';\r\n\r\nconst BlockCheckbox: React.FC<BlockCheckboxProps> = ({\r\n  value,\r\n  onChange,\r\n  list,\r\n}) => (\r\n  <div className={baseClassName} key={value}>\r\n    {list.map(item => (\r\n      <Tooltip title={item.title} key={item.key}>\r\n        <div\r\n          className={`${baseClassName}-item`}\r\n          onClick={() => onChange(item.key)}\r\n        >\r\n          <img src={item.url} alt={item.key} />\r\n          <div\r\n            className={`${baseClassName}-selectIcon`}\r\n            style={{\r\n              display: value === item.key ? 'block' : 'none',\r\n            }}\r\n          >\r\n            <Icon type=\"check\" />\r\n          </div>\r\n        </div>\r\n      </Tooltip>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default BlockCheckbox;\r\n","import './ThemeColor.less';\r\n\r\nimport { Icon, Tooltip } from 'antd';\r\n\r\nimport React from 'react';\r\n\r\nexport interface TagProps {\r\n  color: string;\r\n  check: boolean;\r\n  className?: string;\r\n  onClick?: () => void;\r\n}\r\n\r\nconst Tag: React.FC<TagProps> = ({ color, check, ...rest }) => (\r\n  <div {...rest} style={{ backgroundColor: color }}>\r\n    {check ? <Icon type=\"check\" /> : ''}\r\n  </div>\r\n);\r\n\r\nexport interface ThemeColorProps {\r\n  colors?: {\r\n    key: string;\r\n    color: string;\r\n  }[];\r\n  title?: string;\r\n  value: string;\r\n  onChange: (color: string) => void;\r\n  formatMessage: (data: { id: any; defaultMessage?: string }) => string;\r\n}\r\n\r\nconst ThemeColor: React.FC<ThemeColorProps> = ({\r\n  colors,\r\n  title,\r\n  value,\r\n  onChange,\r\n  formatMessage,\r\n}) => {\r\n  const colorList = colors || [\r\n    {\r\n      key: 'dust',\r\n      color: '#F5222D',\r\n    },\r\n    {\r\n      key: 'volcano',\r\n      color: '#FA541C',\r\n    },\r\n    {\r\n      key: 'sunset',\r\n      color: '#FAAD14',\r\n    },\r\n    {\r\n      key: 'cyan',\r\n      color: '#13C2C2',\r\n    },\r\n    {\r\n      key: 'green',\r\n      color: '#52C41A',\r\n    },\r\n    {\r\n      key: 'daybreak',\r\n      color: '#1890FF',\r\n    },\r\n    {\r\n      key: 'geekblue',\r\n      color: '#2F54EB',\r\n    },\r\n    {\r\n      key: 'purple',\r\n      color: '#722ED1',\r\n    },\r\n  ];\r\n  return (\r\n    <div className=\"theme-color\">\r\n      <h3 className=\"theme-color-title\">{title}</h3>\r\n      <div className=\"theme-color-content\">\r\n        {colorList.map(({ key, color }) => (\r\n          <Tooltip\r\n            key={color}\r\n            title={formatMessage({ id: `app.setting.themecolor.${key}` })}\r\n          >\r\n            <Tag\r\n              className=\"theme-color-block\"\r\n              color={color}\r\n              check={value === color}\r\n              onClick={() => onChange && onChange(color)}\r\n            />\r\n          </Tooltip>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ThemeColor;\r\n","// import CopyToClipboard from 'react-copy-to-clipboard';\r\n// import omit from 'omit.js';\r\n// import defaultSettings, { Settings } from '@ant-design/pro-layout/es/defaultSettings';\r\n// import getLocales, { getLanguage } from '@ant-design/pro-layout/es/locales';\r\nimport { Divider, Drawer, Icon, List, Select, Switch, Tooltip } from 'antd';\r\nimport React, { Component } from 'react';\r\nimport BlockCheckbox from './BlockCheckbox';\r\nimport ThemeColor from './ThemeColor';\r\nimport globalConfig from 'global.config';\r\nimport { getLocales } from 'locale';\r\nimport './index.less';\r\nimport { MenuTheme } from 'antd/es/menu/MenuContext';\r\nexport declare type ContentWidth = 'Fluid' | 'Fixed';\r\nexport interface Settings {\r\n    /**\r\n     * theme for nav menu\r\n     */\r\n    navTheme: MenuTheme | undefined;\r\n    /**\r\n     * nav menu position: `sidemenu` or `topmenu`\r\n     */\r\n    layout: 'sidemenu' | 'topmenu';\r\n    /**\r\n     * layout of content: `Fluid` or `Fixed`, only works when layout is topmenu\r\n     */\r\n    contentWidth: ContentWidth;\r\n    /**\r\n     * 主题色\r\n     */\r\n    primaryColor: string;\r\n    /**\r\n     * sticky header\r\n     */\r\n    fixedHeader: boolean;\r\n    /**\r\n     * auto hide header\r\n     */\r\n    autoHideHeader: boolean;\r\n    /**\r\n     * sticky siderbar\r\n     */\r\n    fixSiderbar: boolean;\r\n    menu: {\r\n        locale: boolean;\r\n    };\r\n    title: string;\r\n    iconfontUrl: string;\r\n    /**\r\n     * 弹框类型\r\n     *\r\n     * @type {(\"Modal\" | \"Drawer\")}\r\n     * @memberof Settings\r\n     */\r\n    infoType?: \"Modal\" | \"Drawer\";\r\n    /**\r\n     * AgGrid 主题\r\n     * ag-theme-balham\r\n     * ag-theme-material\r\n     */\r\n    agGridTheme?: \"ag-theme-balham\" | \"ag-theme-material\" | 'ag-theme-alpine';\r\n    /**\r\n     *页签 页面\r\n     *\r\n     * @type {boolean}\r\n     * @memberof Settings\r\n     */\r\n    tabsPage?: boolean;\r\n}\r\n// import { isBrowser } from '../utils/utils';\r\nconst isBrowser = () => typeof window !== 'undefined';\r\n\r\nconst { Option } = Select;\r\ninterface BodyProps {\r\n    title: string;\r\n}\r\ntype MergerSettingsType<T> = Partial<T> & {\r\n    primaryColor?: string;\r\n    colorWeak?: boolean;\r\n};\r\n\r\nconst Body: React.FC<BodyProps> = ({ children, title }) => (\r\n    <div style={{ marginBottom: 24 }}>\r\n        <h3 className=\"ant-pro-setting-drawer-title\">{title}</h3>\r\n        {children}\r\n    </div>\r\n);\r\n\r\ninterface SettingItemProps {\r\n    title: React.ReactNode;\r\n    action: React.ReactElement;\r\n    disabled?: boolean;\r\n    disabledReason?: React.ReactNode;\r\n}\r\n\r\nexport interface SettingDrawerProps {\r\n    settings: MergerSettingsType<Settings>;\r\n    collapse?: boolean;\r\n    // for test\r\n    getContainer?: any;\r\n    onCollapseChange?: (collapse: boolean) => void;\r\n    onSettingChange?: (settings: MergerSettingsType<Settings>) => void;\r\n}\r\n\r\nexport interface SettingDrawerState extends MergerSettingsType<Settings> {\r\n    collapse?: boolean;\r\n    language?: string;\r\n}\r\n\r\nclass SettingDrawer extends Component<SettingDrawerProps, SettingDrawerState> {\r\n    state: SettingDrawerState = {\r\n        collapse: false,\r\n        language: globalConfig.language,\r\n    };\r\n\r\n    static getDerivedStateFromProps(\r\n        props: SettingDrawerProps,\r\n    ): SettingDrawerState | null {\r\n        if ('collapse' in props) {\r\n            return {\r\n                collapse: !!props.collapse,\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n\r\n    componentDidMount(): void {\r\n        if (isBrowser()) {\r\n            window.addEventListener('languagechange', this.onLanguageChange, {\r\n                passive: true,\r\n            });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount(): void {\r\n        if (isBrowser()) {\r\n            window.removeEventListener('languagechange', this.onLanguageChange);\r\n        }\r\n    }\r\n\r\n    onLanguageChange = (): void => {\r\n        const language = globalConfig.language;//getLanguage();\r\n\r\n        if (language !== this.state.language) {\r\n            this.setState({\r\n                language,\r\n            });\r\n        }\r\n    };\r\n\r\n    getLayoutSetting = (): SettingItemProps[] => {\r\n        const { settings } = this.props;\r\n        const formatMessage = this.getFormatMessage();\r\n        const { contentWidth, fixedHeader, layout, autoHideHeader, fixSiderbar, infoType = \"Modal\", agGridTheme = 'ag-theme-material', tabsPage } = settings;\r\n        return [\r\n            {\r\n                title: formatMessage({\r\n                    id: 'app.setting.content-width',\r\n                    defaultMessage: 'Content Width',\r\n                }),\r\n                action: (\r\n                    <Select<string>\r\n                        value={contentWidth}\r\n                        size=\"small\"\r\n                        onSelect={value => this.changeSetting('contentWidth', value)}\r\n                        style={{ width: 80 }}\r\n                    >\r\n                        {layout === 'sidemenu' ? null : (\r\n                            <Option value=\"Fixed\">\r\n                                {formatMessage({\r\n                                    id: 'app.setting.content-width.fixed',\r\n                                    defaultMessage: 'Fixed',\r\n                                })}\r\n                            </Option>\r\n                        )}\r\n                        <Option value=\"Fluid\">\r\n                            {formatMessage({\r\n                                id: 'app.setting.content-width.fluid',\r\n                                defaultMessage: 'Fluid',\r\n                            })}\r\n                        </Option>\r\n                    </Select>\r\n                ),\r\n            },\r\n            {\r\n                title: formatMessage({\r\n                    id: 'app.setting.infoType',\r\n                    defaultMessage: 'Info Type',\r\n                }),\r\n                action: (\r\n                    <Select<string>\r\n                        value={infoType}\r\n                        size=\"small\"\r\n                        onSelect={value => this.changeSetting('infoType', value)}\r\n                        style={{ width: 80 }}\r\n                    >\r\n                        <Option value=\"Modal\">\r\n                            {formatMessage({\r\n                                id: 'app.setting.infoType.Modal',\r\n                                defaultMessage: 'Modal',\r\n                            })}\r\n                        </Option>\r\n                        <Option value=\"Drawer\">\r\n                            {formatMessage({\r\n                                id: 'app.setting.infoType.Drawer',\r\n                                defaultMessage: 'Drawer',\r\n                            })}\r\n                        </Option>\r\n                    </Select>\r\n                ),\r\n            },\r\n            {\r\n                title: formatMessage({\r\n                    id: 'app.setting.agGridTheme',\r\n                    defaultMessage: 'Ag Grid Theme',\r\n                }),\r\n                action: (\r\n                    <Select<string>\r\n                        value={agGridTheme}\r\n                        size=\"small\"\r\n                        onSelect={value => this.changeSetting('agGridTheme', value)}\r\n                        style={{ width: 80 }}\r\n                    >\r\n                        <Option value=\"ag-theme-balham\">\r\n                            {formatMessage({\r\n                                id: 'app.setting.agGridTheme.balham',\r\n                                defaultMessage: 'balham',\r\n                            })}\r\n                        </Option>\r\n                        <Option value=\"ag-theme-material\">\r\n                            {formatMessage({\r\n                                id: 'app.setting.agGridTheme.material',\r\n                                defaultMessage: 'material',\r\n                            })}\r\n                        </Option>\r\n                        <Option value=\"ag-theme-alpine\">\r\n                            {formatMessage({\r\n                                id: 'app.setting.agGridTheme.alpine',\r\n                                defaultMessage: 'alpine',\r\n                            })}\r\n                        </Option>\r\n                    </Select>\r\n                ),\r\n            },\r\n            {\r\n                title: formatMessage({\r\n                    id: 'app.setting.tabsPage',\r\n                    defaultMessage: 'Tabs Page',\r\n                }),\r\n                disabled: contentWidth === \"Fixed\",\r\n                action: (\r\n                    <Switch\r\n                        size=\"small\"\r\n                        checked={!!tabsPage}\r\n                        onChange={checked => this.changeSetting('tabsPage', checked)}\r\n                    />\r\n                ),\r\n            },\r\n            {\r\n                title: formatMessage({\r\n                    id: 'app.setting.fixedheader',\r\n                    defaultMessage: 'Fixed Header',\r\n                }),\r\n                disabled: tabsPage,\r\n                action: (\r\n                    <Switch\r\n                        size=\"small\"\r\n                        checked={!!fixedHeader}\r\n                        onChange={checked => this.changeSetting('fixedHeader', checked)}\r\n                    />\r\n                ),\r\n            },\r\n\r\n            {\r\n                title: formatMessage({\r\n                    id: 'app.setting.hideheader',\r\n                    defaultMessage: 'Hidden Header when scrolling',\r\n                }),\r\n                disabled: tabsPage || !fixedHeader,\r\n                disabledReason: formatMessage({\r\n                    id: 'app.setting.hideheader.hint',\r\n                    defaultMessage: 'Works when Hidden Header is enabled',\r\n                }),\r\n                action: (\r\n                    <Switch\r\n                        size=\"small\"\r\n                        checked={!!autoHideHeader}\r\n                        onChange={checked => this.changeSetting('autoHideHeader', checked)}\r\n                    />\r\n                ),\r\n            },\r\n            {\r\n                title: formatMessage({\r\n                    id: 'app.setting.fixedsidebar',\r\n                    defaultMessage: 'Fixed Sidebar',\r\n                }),\r\n                disabled: tabsPage || layout === 'topmenu',\r\n                disabledReason: formatMessage({\r\n                    id: 'app.setting.fixedsidebar.hint',\r\n                    defaultMessage: 'Works on Side Menu Layout',\r\n                }),\r\n                action: (\r\n                    <Switch\r\n                        size=\"small\"\r\n                        checked={!!fixSiderbar}\r\n                        onChange={checked => this.changeSetting('fixSiderbar', checked)}\r\n                    />\r\n                ),\r\n            },\r\n        ];\r\n    };\r\n\r\n    changeSetting = (key: string, value: string | boolean) => {\r\n        const { settings } = this.props;\r\n        const nextState = { ...settings };\r\n        nextState[key] = value;\r\n        if (key === 'layout') {\r\n            nextState.contentWidth = value === 'topmenu' ? 'Fixed' : 'Fluid';\r\n            nextState.tabsPage = value === 'sidemenu';\r\n        } else if (key === 'fixedHeader' && !value) {\r\n            nextState.autoHideHeader = false;\r\n        }\r\n        this.setState(nextState, () => {\r\n            const { onSettingChange } = this.props;\r\n            if (onSettingChange) {\r\n                onSettingChange(this.state as MergerSettingsType<Settings>);\r\n            }\r\n        });\r\n    };\r\n\r\n    togglerContent = () => {\r\n        const { collapse } = this.state;\r\n        const { onCollapseChange } = this.props;\r\n        if (onCollapseChange) {\r\n            onCollapseChange(!collapse);\r\n            return;\r\n        }\r\n        this.setState({ collapse: !collapse });\r\n    };\r\n\r\n    renderLayoutSettingItem = (item: SettingItemProps) => {\r\n        const action = React.cloneElement(item.action, {\r\n            disabled: item.disabled,\r\n        });\r\n        return (\r\n            <Tooltip\r\n                title={item.disabled ? item.disabledReason : ''}\r\n                placement=\"left\"\r\n            >\r\n                <List.Item actions={[action]}>\r\n                    <span style={{ opacity: item.disabled ? 0.5 : 1 }}>{item.title}</span>\r\n                </List.Item>\r\n            </Tooltip>\r\n        );\r\n    };\r\n\r\n    getFormatMessage = (): ((data: {\r\n        id: string;\r\n        defaultMessage?: string;\r\n    }) => string) => {\r\n        const formatMessage = ({\r\n            id,\r\n            defaultMessage,\r\n        }: {\r\n            id: string;\r\n            defaultMessage?: string;\r\n        }): string => {\r\n            const locales = getLocales();\r\n            if (locales[id]) {\r\n                return locales[id];\r\n            }\r\n            if (defaultMessage) {\r\n                return defaultMessage as string;\r\n            }\r\n            return id;\r\n        };\r\n        return formatMessage;\r\n    };\r\n\r\n    render(): React.ReactNode {\r\n        const { settings, getContainer } = this.props;\r\n        const {\r\n            navTheme = 'dark',\r\n            primaryColor = '1890FF',\r\n            layout = 'sidemenu',\r\n            colorWeak,\r\n        } = (settings) as any;\r\n        const { collapse } = this.state;\r\n        const formatMessage = this.getFormatMessage();\r\n        return (\r\n            <Drawer\r\n                visible={collapse}\r\n                width={300}\r\n                onClose={this.togglerContent}\r\n                placement=\"right\"\r\n                getContainer={getContainer}\r\n                // handler={\r\n                //   <div\r\n                //     className=\"ant-pro-setting-drawer-handle\"\r\n                //     onClick={this.togglerContent}\r\n                //   >\r\n                //     <Icon\r\n                //       type={collapse ? 'close' : 'setting'}\r\n                //       style={{\r\n                //         color: '#fff',\r\n                //         fontSize: 20,\r\n                //       }}\r\n                //     />\r\n                //   </div>\r\n                // }\r\n                style={{\r\n                    zIndex: 999,\r\n                }}\r\n            >\r\n                <div className=\"ant-pro-setting-drawer-content\">\r\n                    <Body\r\n                        title={formatMessage({\r\n                            id: 'app.setting.pagestyle',\r\n                            defaultMessage: 'Page style setting',\r\n                        })}\r\n                    >\r\n                        <BlockCheckbox\r\n                            list={[\r\n                                {\r\n                                    key: 'dark',\r\n                                    url:\r\n                                        'https://gw.alipayobjects.com/zos/antfincdn/XwFOFbLkSM/LCkqqYNmvBEbokSDscrm.svg',\r\n                                    title: formatMessage({\r\n                                        id: 'app.setting.pagestyle.dark',\r\n                                        defaultMessage: '',\r\n                                    }),\r\n                                },\r\n                                {\r\n                                    key: 'light',\r\n                                    url:\r\n                                        'https://gw.alipayobjects.com/zos/antfincdn/NQ%24zoisaD2/jpRkZQMyYRryryPNtyIC.svg',\r\n                                    title: formatMessage({ id: 'app.setting.pagestyle.light' }),\r\n                                },\r\n                            ]}\r\n                            value={navTheme}\r\n                            onChange={value => this.changeSetting('navTheme', value)}\r\n                        />\r\n                    </Body>\r\n\r\n                    <ThemeColor\r\n                        title={formatMessage({ id: 'app.setting.themecolor' })}\r\n                        value={primaryColor}\r\n                        formatMessage={formatMessage}\r\n                        onChange={color => this.changeSetting('primaryColor', color)}\r\n                    />\r\n\r\n                    <Divider />\r\n\r\n                    <Body title={formatMessage({ id: 'app.setting.navigationmode' })}>\r\n                        <BlockCheckbox\r\n                            list={[\r\n                                {\r\n                                    key: 'sidemenu',\r\n                                    url:\r\n                                        'https://gw.alipayobjects.com/zos/antfincdn/XwFOFbLkSM/LCkqqYNmvBEbokSDscrm.svg',\r\n                                    title: formatMessage({ id: 'app.setting.sidemenu' }),\r\n                                },\r\n                                {\r\n                                    key: 'topmenu',\r\n                                    url:\r\n                                        'https://gw.alipayobjects.com/zos/antfincdn/URETY8%24STp/KDNDBbriJhLwuqMoxcAr.svg',\r\n                                    title: formatMessage({ id: 'app.setting.topmenu' }),\r\n                                },\r\n                            ]}\r\n                            value={layout}\r\n                            onChange={value => this.changeSetting('layout', value)}\r\n                        />\r\n                    </Body>\r\n\r\n                    <List\r\n                        split={false}\r\n                        dataSource={this.getLayoutSetting()}\r\n                        renderItem={this.renderLayoutSettingItem}\r\n                    />\r\n\r\n                    <Divider />\r\n\r\n                    {/* <Body title={formatMessage({ id: 'app.setting.othersettings' })}>\r\n            <List\r\n              split={false}\r\n              renderItem={this.renderLayoutSettingItem}\r\n              dataSource={[\r\n                {\r\n                  title: formatMessage({ id: 'app.setting.weakmode' }),\r\n                  action: (\r\n                    <Switch\r\n                      size=\"small\"\r\n                      checked={!!colorWeak}\r\n                      onChange={checked =>\r\n                        this.changeSetting('colorWeak', checked)\r\n                      }\r\n                    />\r\n                  ),\r\n                },\r\n              ]}\r\n            />\r\n          </Body>\r\n          <Divider /> */}\r\n                    {/* <CopyToClipboard\r\n            text={JSON.stringify(omit(settings, ['colorWeak']), null, 2)}\r\n            onCopy={() =>\r\n              message.success(formatMessage({ id: 'app.setting.copyinfo' }))\r\n            }\r\n          >\r\n            <Button block icon=\"copy\">\r\n              {formatMessage({ id: 'app.setting.copy' })}\r\n            </Button>\r\n          </CopyToClipboard> */}\r\n                </div>\r\n            </Drawer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SettingDrawer;\r\n","\r\nimport { Icon, Tabs } from 'antd';\r\nimport LayoutSpin from \"components/other/LayoutSpin\";\r\nimport lodash from 'lodash';\r\nimport { action, observable, runInAction, toJS } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\nimport { Item, Menu, MenuProvider } from 'react-contexify';\r\nimport { matchRoutes } from 'react-router-config';\r\nimport { fromEvent } from 'rxjs';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport Store from 'store/index';\r\nimport './index.less';\r\nimport { create, persist } from 'mobx-persist';\r\nimport { FormattedMessage } from 'react-intl';\r\nconst hydrate = create({\r\n    storage: window.localStorage,   // 存储的对象\r\n    jsonify: true, // 格式化 json\r\n    debounce: 1000,\r\n});\r\n/**\r\n * tabs 页面布局\r\n */\r\nexport default class App extends React.Component {\r\n    render() {\r\n        return <TabsPages {...this.props} />\r\n    }\r\n}\r\n@observer\r\nclass TabsPages extends React.Component<any, any> {\r\n    TabsPagesStore = new TabsPagesStore(this.props.route.routes);\r\n    componentDidMount() {\r\n        this.TabsPagesStore.pushTabPane(this.props.location.pathname);\r\n    }\r\n    componentWillUnmount() {\r\n        this.TabsPagesStore.componentWillUnmount();\r\n    }\r\n    componentDidUpdate() {\r\n        this.TabsPagesStore.pushTabPane(this.props.location.pathname);\r\n        // console.log(\"TCL: TabsPages -> componentDidUpdate -> this.props\", this.props)\r\n    }\r\n    onChange(event) {\r\n        if (!lodash.eq(this.props.location.pathname, event)) {\r\n            this.props.history.replace(event)\r\n        }\r\n    }\r\n    onEdit(event) {\r\n        const path = this.TabsPagesStore.onClosable(event);\r\n        if (lodash.eq(this.props.location.pathname, event)) {\r\n            this.onChange(path)\r\n        }\r\n    }\r\n    /**\r\n     * 关闭\r\n     * @param type 其他，当前，全部 \r\n     * @param event \r\n     */\r\n    onClose(type: \"Other\" | \"Current\" | \"All\", event) {\r\n        this.onChange(this.TabsPagesStore.onClose(type, event))\r\n    }\r\n    getDisabled(event) {\r\n        return event.props.pathname === '/'\r\n    }\r\n    render() {\r\n        const tabPane = this.TabsPagesStore.tabPane;\r\n        const height = this.TabsPagesStore.height;\r\n        return (\r\n            <>\r\n                <Tabs\r\n                    activeKey={this.props.location.pathname}\r\n                    // size=\"small\"\r\n                    className={'app-layout-tabs'}\r\n                    // tabPosition={lodash.get(GlobalConfig, \"tabPosition\", \"top\") as any}\r\n                    onChange={this.onChange.bind(this)}\r\n                    // animated={GlobalConfig.tabsAnimated}\r\n                    type=\"editable-card\"\r\n                    onEdit={this.onEdit.bind(this)}\r\n                >\r\n                    {tabPane.map(item => {\r\n                        const router = item.router;\r\n                        const props = { ...this.props, match: router.match };\r\n                        return <Tabs.TabPane\r\n                            tab={<MenuProvider id=\"TabPane\" component=\"span\" data={item}>{renderIconTitle({ Icon: item.icon, Text: item.title })}</MenuProvider>}\r\n                            key={item.pathname}\r\n                            closable={item.closable}\r\n                            style={{ height: height }}>\r\n                            {router.component && <React.Suspense fallback={<LayoutSpin />}>\r\n                                {React.createElement(router.component, props)}\r\n                            </React.Suspense>}\r\n                        </Tabs.TabPane>\r\n                    })}\r\n                </Tabs>\r\n                <Menu id='TabPane' animation=\"pop\" style={{ minWidth: 100 }}>\r\n                    <Item disabled={this.getDisabled} onClick={this.onClose.bind(this, 'Current')}><span><Icon type=\"close\" /></span> <FormattedMessage id='action.pages.closeTheCurrent' /></Item>\r\n                    <Item onClick={this.onClose.bind(this, 'Other')}><span><Icon type=\"close\" /></span> <FormattedMessage id='action.pages.closeOther' /></Item>\r\n                    <Item onClick={this.onClose.bind(this, 'All')}><span><Icon type=\"close\" /></span> <FormattedMessage id='action.pages.closeAll' /></Item>\r\n                </Menu>\r\n            </>\r\n        );\r\n    }\r\n}\r\nclass TabsPagesStore {\r\n    constructor(private routes) {\r\n        // hydrate('TabsPagesStore', this)\r\n        //     // post hydration\r\n        //     .then(() => {\r\n        //         runInAction(() => {\r\n        //             this.tabPane = this.tabPane.map(item => {\r\n        //                 return {\r\n        //                     ...item,\r\n        //                     router: this.getRoutes(item.pathname)\r\n        //                 }\r\n        //             })\r\n        //         })\r\n        //     })\r\n    }\r\n    componentWillUnmount() {\r\n        this.resize.unsubscribe();\r\n    }\r\n    onCreateHoem() {\r\n        return {\r\n            title: 'pages.home',\r\n            pathname: \"/\",\r\n            closable: false,\r\n            icon: \"home\",\r\n            router: this.getRoutes(\"/\")\r\n        }\r\n    }\r\n    // @persist\r\n    @observable height = this.getHeight();\r\n    // @persist(\"list\")\r\n    @observable tabPane = [this.onCreateHoem()];\r\n    @action\r\n    pushTabPane(pathname) {\r\n        const router = this.getRoutes(pathname);\r\n        if (lodash.some(this.tabPane, item => lodash.eq(item.pathname, pathname))) return;\r\n        const menu = lodash.find(Store.Meun.ParallelMenu, ['Url', pathname]);\r\n        const title = lodash.get(menu, 'Text', \"Null\")\r\n        const icon = lodash.get(menu, 'Icon', \"appstore\")\r\n        this.tabPane.push({\r\n            title: title,//renderIconTitle(menu || { Text: \"NULL\", Icon: \"appstore\", Id: Help.GUID() }),\r\n            pathname,\r\n            closable: true,\r\n            icon,\r\n            router\r\n        });\r\n    }\r\n    @action\r\n    onClosable(pathname) {\r\n        const index = lodash.findIndex(this.tabPane, ['pathname', pathname]);\r\n        const path = lodash.get(this.tabPane, `[${index - 1}].pathname`, \"/\");\r\n        lodash.remove(this.tabPane, ['pathname', pathname]);\r\n        return path\r\n    }\r\n    /**\r\n    * 关闭\r\n    * @param type 其他，当前，全部 \r\n    * @param event \r\n    */\r\n    @action\r\n    onClose(type: \"Other\" | \"Current\" | \"All\", event) {\r\n        let path = \"/\";\r\n        switch (type) {\r\n            case 'Other':\r\n                this.tabPane = [this.onCreateHoem()];\r\n                this.pushTabPane(event.props.pathname);\r\n                path = event.props.pathname;\r\n                break;\r\n            case 'Current':\r\n                path = this.onClosable(event.props.pathname);\r\n                break;\r\n            case 'All':\r\n                this.tabPane = [this.onCreateHoem()];\r\n                break;\r\n        }\r\n        return path;\r\n    }\r\n    getHeight() {\r\n        return window.innerHeight - 104//(lodash.some([\"top\", \"bottom\"], data => lodash.eq(data, GlobalConfig.tabPosition)) ? 90 : 50);\r\n    }\r\n    getRoutes(pathname) {\r\n        const router = matchRoutes(this.routes, pathname);\r\n        return {\r\n            component: router[0].route.component,\r\n            match: router[0].match\r\n        }\r\n    }\r\n    resize = fromEvent(window, \"resize\").pipe(debounceTime(200)).subscribe(e => {\r\n        const height = this.getHeight()\r\n        if (this.height != height) {\r\n            runInAction(() => this.height = height)\r\n        }\r\n    });\r\n}\r\nfunction renderIconTitle(menu) {\r\n    let icon = null;\r\n    icon = <Icon type={menu.Icon || 'appstore'} />\r\n    return <>{icon}<span><FormattedMessage id={menu.Text} defaultMessage={menu.Text} /></span> </>\r\n}\r\n","import { BasicLayout, GridContent } from '@ant-design/pro-layout';\r\nimport { Icon } from 'antd';\r\nimport LayoutSpin from \"components/other/LayoutSpin\";\r\nimport GlobalConfig from 'global.config';\r\nimport lodash from 'lodash';\r\nimport { action, observable, toJS } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\nimport { renderRoutes } from 'react-router-config';\r\nimport { Link } from 'react-router-dom';\r\nimport Store from 'store/index';\r\nimport RightContent from './GlobalHeader/RightContent';\r\nimport UserMenu from './GlobalHeader/userMenu';\r\nimport SettingDrawer, { ContentWidth } from './SettingDrawer';\r\nimport themeColor from 'utils/themeColor';\r\nimport './style.less';\r\nimport TabsPages from './TabsPages';\r\n// import { ConfigConsumer } from 'antd/lib/config-provider';\r\n// import {  } from 'antd';\r\n// ConfigConsumer\r\n@observer\r\nexport default class App extends React.Component<any> {\r\n    @observable\r\n    collapse = false;\r\n    /**\r\n     *settings 变更 事件\r\n     *\r\n     * @param {*} settings\r\n     * @memberof App\r\n     */\r\n    @action.bound\r\n    onSettingChange(settings) {\r\n        if (!lodash.eq(settings.primaryColor, GlobalConfig.settings.primaryColor)) {\r\n            themeColor.changeColor(settings.primaryColor)\r\n        }\r\n        GlobalConfig.settings = settings;\r\n    }\r\n    @action.bound\r\n    changeLang(event) {\r\n        GlobalConfig.language = event.key;\r\n        window['g_locale'] = GlobalConfig.language;\r\n        window.location.reload()\r\n    }\r\n    // 菜单 打开 的 key\r\n    defaultOpenKeys = [];\r\n    // 菜单 选择 的 key\r\n    selectedKeys = [];\r\n    //  获取 \r\n    getDefaultOpenKeys(Menus, Menu, OpenKeys = []) {\r\n        const ParentId = lodash.get(Menu, 'ParentId');\r\n        if (ParentId) {\r\n            OpenKeys.push(ParentId);\r\n            const Parent = lodash.find(Menus, [\"Id\", ParentId]);\r\n            if (Parent.ParentId) {\r\n                this.getDefaultOpenKeys(Menus, Parent, OpenKeys);\r\n            }\r\n        }\r\n        return OpenKeys\r\n    }\r\n    // 根据 路径获取对应菜单\r\n    getMenu(pathname) {\r\n        const menu = lodash.find(Store.Meun.ParallelMenu, [\"path\", pathname]);\r\n        this.selectedKeys = [lodash.get(menu, 'Id', '/')]\r\n        return menu;\r\n    }\r\n    UNSAFE_componentWillMount() {\r\n        this.defaultOpenKeys = this.getDefaultOpenKeys(Store.Meun.ParallelMenu, this.getMenu(this.props.location.pathname));\r\n    }\r\n    UNSAFE_componentWillUpdate(nextProps) {\r\n        if (this.props.location.pathname !== nextProps.location.pathname) {\r\n            this.defaultOpenKeys = this.getDefaultOpenKeys(Store.Meun.ParallelMenu, this.getMenu(nextProps.location.pathname));\r\n        }\r\n    }\r\n    componentDidMount() {\r\n    }\r\n    @action.bound\r\n    togglerContent() {\r\n        this.collapse = !this.collapse;\r\n    };\r\n\r\n    public render() {\r\n        const settings = toJS(GlobalConfig.settings);\r\n        const { language } = GlobalConfig;\r\n        // window['g_locale']='en-US'\r\n        return (\r\n            <>\r\n                <BasicLayout\r\n                    logo={GlobalConfig.default.logo}\r\n                    {...settings}\r\n                    rightContentRender={rightProps => (\r\n                        <RightContent {...rightProps} selectedLang={language} changeLang={this.changeLang} >\r\n                            <UserMenu {...rightProps} {...this.props} />\r\n                            <div className={`ant-pro-setting ${settings.navTheme} ${settings.layout}`} onClick={this.togglerContent}>\r\n                                <Icon type={'setting'} />\r\n                            </div>\r\n                        </RightContent>\r\n                    )}\r\n                    menuHeaderRender={(logo, title) => <Link to=\"/\">{logo}{title}</Link>}\r\n                    menuDataRender={() => toJS(Store.Meun.subMenu)}\r\n                    menuItemRender={(menuItemProps, defaultDom) => {\r\n                        if (menuItemProps.isUrl && lodash.startsWith(menuItemProps.path, '/external')) {\r\n                            defaultDom = <Link to={menuItemProps.path}>{lodash.get(defaultDom, 'props.children')}</Link>\r\n                        }\r\n                        return menuItemProps.isUrl ? defaultDom : <Link to={menuItemProps.path}>{defaultDom}</Link>;\r\n                    }}\r\n                    menuProps={{\r\n                        selectedKeys: this.selectedKeys,\r\n                        openKeys: this.defaultOpenKeys,\r\n                        onOpenChange: event => {\r\n                            this.defaultOpenKeys = [...event];\r\n                            this.forceUpdate();\r\n                        }\r\n                    }}\r\n                    footerRender={() => null}\r\n                >\r\n                    {settings.tabsPage && settings.contentWidth !== \"Fixed\" ? <TabsPages {...this.props} /> : <MainContent {...this.props} contentWidth={settings.contentWidth} />}\r\n                </BasicLayout>\r\n                <SettingDrawer collapse={this.collapse} onCollapseChange={this.togglerContent} settings={settings} onSettingChange={this.onSettingChange} />\r\n            </>\r\n        );\r\n    }\r\n}\r\nclass MainContent extends React.Component<{ contentWidth: ContentWidth, route?: any }> {\r\n    shouldComponentUpdate(nextProps: any, nextState: any, nextContext: any) {\r\n        return !lodash.eq(this.props.contentWidth, nextProps.contentWidth)\r\n    }\r\n    renderRoutes = renderRoutes(this.props.route.routes);\r\n    render() {\r\n        return (\r\n            <GridContent contentWidth={this.props.contentWidth}>\r\n                <React.Suspense fallback={<LayoutSpin />}>\r\n                    {this.renderRoutes}\r\n                </React.Suspense>\r\n            </GridContent>\r\n        );\r\n    }\r\n}\r\n","import { Skeleton } from 'antd';\r\nimport globalConfig from 'global.config';\r\nimport { action, observable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport LayoutSpin from \"components/other/LayoutSpin\";\r\nimport * as React from 'react';\r\nimport './style.less';\r\nclass MessageStore {\r\n    constructor() {\r\n        /**\r\n         * 接收 子窗口 发送的 请求加载通知\r\n         */\r\n        window.addEventListener(\"message\", (event) => {\r\n            // if (event.data) {\r\n            //     switch (event.data.type) {\r\n            //         // 加载活动\r\n            //         case \"NProgress\":\r\n            //             if (event.data.data == \"start\") {\r\n            //                 NProgress.start();\r\n            //             } else {\r\n            //                 NProgress.done();\r\n            //             }\r\n            //             break;\r\n            //         // 消息通知\r\n            //         case \"notification\":\r\n            //             const { type, args } = event.data.data;\r\n            //             try {\r\n            //                 // 处理 发送的二进制 文件\r\n            //                 if (args.blob) {\r\n            //                     const filedow = Request.onCreateBlob(args.blob);\r\n            //                     return notification[type]({\r\n            //                         ...args,\r\n            //                         btn: <Button type=\"primary\" size=\"small\" onClick={() => {\r\n            //                             notification.close(\"import\");\r\n            //                             filedow.click();\r\n            //                         }}>\r\n            //                             下载文件\r\n            //                 </Button>\r\n            //                     });\r\n            //                 }\r\n            //                 notification[type](args);\r\n            //             } catch (error) {\r\n            //                 console.error(\"notification\", error);\r\n            //             }\r\n            //             break;\r\n            //         // 子页面弹框 显示\r\n            //         case 'visible':\r\n            //             if (typeof event.data.data === \"boolean\") {\r\n            //                 runInAction(() => {\r\n            //                     if (this.visible != event.data.data) {\r\n            //                         this.visible = event.data.data\r\n            //                     }\r\n            //                 })\r\n            //             }\r\n            //         // 子页高度更改\r\n            //         // case 'updateHeight':\r\n            //         //     if (typeof event.data.data === \"number\") {\r\n            //         //         runInAction(() => {\r\n            //         //             this.onUpdateHeight(event.data.data)\r\n            //         //         })\r\n            //         //     }\r\n            //         //     break;\r\n            //         // default:\r\n            //         //     break;\r\n            //     }\r\n            // }\r\n        })\r\n    }\r\n    @observable visible = false;\r\n    @observable iframeHeight = window.innerHeight;\r\n    @action.bound\r\n    onUpdateHeight(height) {\r\n        if (this.iframeHeight != height) {\r\n            this.iframeHeight = height\r\n        }\r\n    }\r\n}\r\nconst MsgeStore = new MessageStore();\r\n@observer\r\nexport default class IApp extends React.Component<any, any> {\r\n    ref = React.createRef<any>()\r\n    state = {\r\n        loding: true\r\n    }\r\n    /**\r\n     * 发送消息\r\n     */\r\n    sendPostMessage() {\r\n        return {\r\n            type: \"Portal_Token\",\r\n            token: globalConfig.token.get(),\r\n        }\r\n    }\r\n    componentDidMount() {\r\n\r\n    }\r\n    UNSAFE_componentWillMount() {\r\n    }\r\n    onLoad(e) {\r\n        // console.dir(e.target.contentWindow)\r\n        // 发送消息\r\n        // e.target.contentWindow.postMessage(this.sendPostMessage(), decodeURIComponent(this.props.match.params.url));\r\n        // console.log(decodeURIComponent(this.props.match.params.url), this.ref.current.contentWindow)\r\n        this.setState({ loding: false })\r\n    }\r\n    render() {\r\n        const src = decodeURIComponent(this.props.match.params.url)\r\n\r\n        return (\r\n            <div className={\"app-external-iframe \" + (MsgeStore.visible && \"app-external-visible\")}>\r\n                <iframe\r\n                    ref={this.ref}\r\n                    key={src}\r\n                    src={src}\r\n                    onLoad={this.onLoad.bind(this)}\r\n                >\r\n                </iframe>\r\n                {this.state.loding ? <div className=\"app-external-iframe-Skeleton\">\r\n                    <LayoutSpin />\r\n                </div> : null}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","const l = 42, // 滑块边长\r\n    r = 9, // 滑块半径\r\n    w = 310, // canvas宽度\r\n    h = 155, // canvas高度\r\n    PI = Math.PI\r\nconst L = l + r * 2 + 3 // 滑块实际边长\r\nconst isIE = window.navigator.userAgent.indexOf('Trident') > -1\r\n\r\nfunction getRandomNumberByRange(start, end) {\r\n    return Math.round(Math.random() * (end - start) + start)\r\n}\r\n\r\nfunction createCanvas(width, height) {\r\n    const canvas = document.createElement('canvas')\r\n    canvas.width = width\r\n    canvas.height = height\r\n    return canvas\r\n}\r\n\r\nfunction createImg(onload) {\r\n    const img: any = new Image()\r\n    img.crossOrigin = \"Anonymous\"\r\n    img.onload = onload\r\n    img.onerror = () => {\r\n        img.setSrc(getRandomImgSrc())\r\n    }\r\n\r\n    img.setSrc = function (src) {\r\n        if (isIE) { // IE浏览器无法通过img.crossOrigin跨域，使用ajax获取图片blob然后转为dataURL显示\r\n            const xhr = new XMLHttpRequest()\r\n            xhr.onloadend = function (e: any) {\r\n                const file = new FileReader() // FileReader仅支持IE10+\r\n                file.readAsDataURL(e.target.response)\r\n                file.onloadend = function (e: any) {\r\n                    img.src = e.target.result\r\n                }\r\n            }\r\n            xhr.open('GET', src)\r\n            xhr.responseType = 'blob'\r\n            xhr.send()\r\n        }\r\n        else img.src = src\r\n    }\r\n\r\n    img.setSrc(getRandomImgSrc())\r\n    return img\r\n}\r\n\r\nfunction createElement(tagName, className) {\r\n    const elment = document.createElement(tagName)\r\n    elment.className = className\r\n    return elment\r\n}\r\n\r\nfunction addClass(tag, className) {\r\n    tag.classList.add(className)\r\n}\r\n\r\nfunction removeClass(tag, className) {\r\n    tag.classList.remove(className)\r\n}\r\n\r\nfunction getRandomImgSrc() {\r\n    return 'https://picsum.photos/300/150/?image=' + getRandomNumberByRange(0, 1084)\r\n}\r\n\r\nfunction draw(ctx, x, y, operation) {\r\n    ctx.beginPath()\r\n    ctx.moveTo(x, y)\r\n    ctx.arc(x + l / 2, y - r + 2, r, 0.72 * PI, 2.26 * PI)\r\n    ctx.lineTo(x + l, y)\r\n    ctx.arc(x + l + r - 2, y + l / 2, r, 1.21 * PI, 2.78 * PI)\r\n    ctx.lineTo(x + l, y + l)\r\n    ctx.lineTo(x, y + l)\r\n    ctx.arc(x + r - 2, y + l / 2, r + 0.4, 2.76 * PI, 1.24 * PI, true)\r\n    ctx.lineTo(x, y)\r\n    ctx.lineWidth = 2\r\n    ctx.fillStyle = 'rgba(255, 255, 255, 0.7)'\r\n    ctx.strokeStyle = 'rgba(255, 255, 255, 0.7)'\r\n    ctx.stroke()\r\n    ctx[operation]()\r\n    ctx.globalCompositeOperation = isIE ? 'xor' : 'overlay'\r\n}\r\n\r\nfunction sum(x, y) {\r\n    return x + y\r\n}\r\n\r\nfunction square(x) {\r\n    return x * x\r\n}\r\n\r\nexport default class jigsaw {\r\n    el: any;\r\n    onSuccess: any;\r\n    onFail: any;\r\n    onRefresh: any;\r\n\r\n    constructor({ el, onSuccess, onFail, onRefresh }) {\r\n        el.style.position = 'relative'\r\n        el.style.width = w + 'px'\r\n        Object.assign(el.style, {\r\n            position: 'relative',\r\n            width: w + 'px',\r\n            margin: '0 auto'\r\n        })\r\n        this.el = el\r\n        this.onSuccess = onSuccess\r\n        this.onFail = onFail\r\n        this.onRefresh = onRefresh\r\n    }\r\n\r\n    init() {\r\n        this.initDOM()\r\n        this.initImg()\r\n        this.bindEvents()\r\n    }\r\n\r\n    initDOM() {\r\n        const canvas = createCanvas(w, h) // 画布\r\n        const block: any = canvas.cloneNode(true) // 滑块\r\n        const sliderContainer = createElement('div', 'sliderContainer')\r\n        const refreshIcon = createElement('div', 'refreshIcon')\r\n        const sliderMask = createElement('div', 'sliderMask')\r\n        const slider = createElement('div', 'slider')\r\n        const sliderIcon = createElement('span', 'sliderIcon')\r\n        const text = createElement('span', 'sliderText')\r\n\r\n        block.className = 'block'\r\n        text.innerHTML = '向右滑动填充拼图'\r\n\r\n        const el = this.el\r\n        el.appendChild(canvas)\r\n        el.appendChild(refreshIcon)\r\n        el.appendChild(block)\r\n        slider.appendChild(sliderIcon)\r\n        sliderMask.appendChild(slider)\r\n        sliderContainer.appendChild(sliderMask)\r\n        sliderContainer.appendChild(text)\r\n        el.appendChild(sliderContainer)\r\n\r\n        Object.assign(this, {\r\n            canvas,\r\n            block,\r\n            sliderContainer,\r\n            refreshIcon,\r\n            slider,\r\n            sliderMask,\r\n            sliderIcon,\r\n            text,\r\n            canvasCtx: canvas.getContext('2d'),\r\n            blockCtx: block.getContext('2d')\r\n        })\r\n    }\r\n    img: any\r\n    canvasCtx\r\n    blockCtx\r\n    block\r\n    initImg() {\r\n        const img = createImg(() => {\r\n            this.draw()\r\n            this.canvasCtx.drawImage(img, 0, 0, w, h)\r\n            this.blockCtx.drawImage(img, 0, 0, w, h)\r\n            const y = this.y - r * 2 - 1\r\n            const ImageData = this.blockCtx.getImageData(this.x - 3, y, L, L)\r\n            this.block.width = L\r\n            this.blockCtx.putImageData(ImageData, 0, y)\r\n        })\r\n        this.img = img\r\n    }\r\n    x;\r\n    y;\r\n    draw() {\r\n        // 随机创建滑块的位置\r\n        this.x = getRandomNumberByRange(L + 10, w - (L + 10))\r\n        this.y = getRandomNumberByRange(10 + r * 2, h - (L + 10))\r\n        draw(this.canvasCtx, this.x, this.y, 'fill')\r\n        draw(this.blockCtx, this.x, this.y, 'clip')\r\n    }\r\n\r\n    clean() {\r\n        this.canvasCtx.clearRect(0, 0, w, h)\r\n        this.blockCtx.clearRect(0, 0, w, h)\r\n        this.block.width = w\r\n    }\r\n    refreshIcon\r\n    slider\r\n    sliderContainer\r\n    sliderMask\r\n    trail\r\n    text\r\n    bindEvents() {\r\n        this.el.onselectstart = () => false\r\n        this.refreshIcon.onclick = () => {\r\n            this.reset()\r\n            typeof this.onRefresh === 'function' && this.onRefresh()\r\n        }\r\n\r\n        let originX, originY, trail = [], isMouseDown = false\r\n\r\n        const handleDragStart = function (e) {\r\n            originX = e.clientX || e.touches[0].clientX\r\n            originY = e.clientY || e.touches[0].clientY\r\n            isMouseDown = true\r\n        }\r\n\r\n        const handleDragMove = (e) => {\r\n            if (!isMouseDown) return false\r\n            const eventX = e.clientX || e.touches[0].clientX\r\n            const eventY = e.clientY || e.touches[0].clientY\r\n            const moveX = eventX - originX\r\n            const moveY = eventY - originY\r\n            if (moveX < 0 || moveX + 38 >= w) return false\r\n            this.slider.style.left = moveX + 'px'\r\n            const blockLeft = (w - 40 - 20) / (w - 40) * moveX\r\n            this.block.style.left = blockLeft + 'px'\r\n\r\n            addClass(this.sliderContainer, 'sliderContainer_active')\r\n            this.sliderMask.style.width = moveX + 'px'\r\n            trail.push(moveY)\r\n        }\r\n\r\n        const handleDragEnd = (e) => {\r\n            if (!isMouseDown) return false\r\n            isMouseDown = false\r\n            const eventX = e.clientX || e.changedTouches[0].clientX\r\n            if (eventX == originX) return false\r\n            removeClass(this.sliderContainer, 'sliderContainer_active')\r\n            this.trail = trail\r\n            const { spliced, verified } = this.verify()\r\n            if (spliced) {\r\n                if (verified) {\r\n                    addClass(this.sliderContainer, 'sliderContainer_success')\r\n                    typeof this.onSuccess === 'function' && this.onSuccess()\r\n                } else {\r\n                    addClass(this.sliderContainer, 'sliderContainer_fail')\r\n                    this.text.innerHTML = '再试一次'\r\n                    this.reset()\r\n                }\r\n            } else {\r\n                addClass(this.sliderContainer, 'sliderContainer_fail')\r\n                typeof this.onFail === 'function' && this.onFail()\r\n                setTimeout(() => {\r\n                    this.reset()\r\n                }, 1000)\r\n            }\r\n        }\r\n        this.slider.addEventListener('mousedown', handleDragStart)\r\n        this.slider.addEventListener('touchstart', handleDragStart)\r\n        document.addEventListener('mousemove', handleDragMove)\r\n        document.addEventListener('touchmove', handleDragMove)\r\n        document.addEventListener('mouseup', handleDragEnd)\r\n        document.addEventListener('touchend', handleDragEnd)\r\n    }\r\n\r\n    verify() {\r\n        const arr = this.trail // 拖动时y轴的移动距离\r\n        const average = arr.reduce(sum) / arr.length\r\n        const deviations = arr.map(x => x - average)\r\n        const stddev = Math.sqrt(deviations.map(square).reduce(sum) / arr.length)\r\n        const left = parseInt(this.block.style.left)\r\n        return {\r\n            spliced: Math.abs(left - this.x) < 10,\r\n            verified: stddev !== 0, // 简单验证下拖动轨迹，为零时表示Y轴上下没有波动，可能非人为操作\r\n        }\r\n    }\r\n\r\n    reset() {\r\n        this.sliderContainer.className = 'sliderContainer'\r\n        this.slider.style.left = 0\r\n        this.block.style.left = 0\r\n        this.sliderMask.style.width = 0\r\n        this.clean()\r\n        this.img.setSrc(getRandomImgSrc())\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport code from './code';\r\nimport './style.less'\r\nexport default class IApp extends React.Component<{\r\n    onSuccess: () => void;\r\n}, any> {\r\n    element = React.createRef<HTMLDivElement>()\r\n    componentDidMount() {\r\n        new code({\r\n            el: this.element.current,\r\n            onSuccess: this.props.onSuccess,\r\n            onFail: () => { },\r\n            onRefresh: () => { },\r\n        }).init()\r\n    }\r\n    render() {\r\n        return (\r\n            <div ref={this.element}>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","\r\nimport { Col, Layout, Row, Typography } from 'antd';\r\nimport * as React from 'react';\r\nimport lodash from 'lodash';\r\nimport logo from '../../../../assets/img/logo.png';\r\nimport code from './images/code.png';\r\nimport './style.less';\r\nconst { Header, Content, Sider, Footer } = Layout;\r\nexport class LayoutLogin extends React.Component<{\r\n  links?: React.ReactNodeArray;\r\n  code?: string;\r\n}, any>{\r\n  render() {\r\n    const isIe = \"ActiveXObject\" in window;\r\n    return (\r\n      <Layout className=\"app-layout-login app-fade-enter\">\r\n        {/* <Layout style={isIe ? { minHeight: window.innerHeight - 197 } : {}}>\r\n          <Header>\r\n            <img className='app-login-logo' src={logo} alt=\"\" height=\"48\" />\r\n          </Header>\r\n          <Content>\r\n            <div className='app-login-form'>\r\n              {this.props.children}\r\n            </div>\r\n          </Content>\r\n        </Layout> */}\r\n        <Main>{this.props.children}</Main>\r\n        <Footer>\r\n          <Row type=\"flex\" align=\"top\" className='app-login-links'>\r\n            <Col lg={18} md={24}>\r\n              <Typography>\r\n                <Typography.Title>Quick Links</Typography.Title>\r\n                <Typography.Paragraph>\r\n                  <Row type=\"flex\" align=\"top\">\r\n                    {lodash.get(this.props as any, 'links', [\r\n                      { name: 'GitHub', url: 'https://github.com/dotnetcore/WTM' },\r\n                      { name: \"React\", url: 'https://reactjs.org/' },\r\n                      { name: \"Ant Design\", url: 'https://ant.design/' },\r\n                      { name: \"Rxjs\", url: 'https://rxjs.dev/' },\r\n                      { name: \"Mobx\", url: 'https://mobx.js.org/' },\r\n                      { name: \"Lodash\", url: ' https://lodash.com/' },\r\n                    ]).map((value, index) => (\r\n                      <Col key={index} lg={6} md={8} xs={8} sm={12}>\r\n                        <a href={value.url} target=\"_blank\" >    {value.name}</a>\r\n                      </Col>\r\n                    ))}\r\n                  </Row>\r\n                </Typography.Paragraph>\r\n              </Typography>\r\n            </Col>\r\n            <Col lg={6} md={24} className='app-login-codeimg'>\r\n              <img src={lodash.get(this.props, 'code', code)} alt=\"\" width=\"88\" height=\"88\" />\r\n              <p></p>\r\n            </Col>\r\n          </Row>\r\n          <div className=\"app-login-record\">\r\n            <a href=\"https://wtmdoc.walkingtec.cn/\" target=\"_blank\"> Help</a> © 2019 WTM all rights reserved\r\n                </div>\r\n        </Footer>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\nclass Main extends React.Component<any, any>{\r\n  state = {\r\n    loginBck: this.onSample(),\r\n    Unmount: false\r\n  }\r\n  onSample() {\r\n    return `app-login-back-${lodash.sample([1, 2, 3, 4, 5])}`;\r\n  }\r\n  onDelay() {\r\n    if (this.state.Unmount) {\r\n      return\r\n    }\r\n    lodash.delay(() => {\r\n      this.setState({ loginBck: this.onSample() }, () => this.onDelay())\r\n    }, 5000)\r\n  }\r\n  componentDidMount() {\r\n    // this.onDelay()\r\n  }\r\n  componentWillUnmount() {\r\n    this.setState({ Unmount: true })\r\n  }\r\n  render() {\r\n    return (\r\n      <Layout className={this.state.loginBck}>\r\n        <Header>\r\n          <img className='app-login-logo' src={logo} alt=\"\" height=\"48\" />\r\n        </Header>\r\n        <Content>\r\n          <div className='app-login-form'>\r\n            {this.props.children}\r\n          </div>\r\n        </Content>\r\n      </Layout>\r\n    )\r\n  }\r\n}","import Exception from \"components/other/Exception\";\r\nimport LayoutSpin from \"components/other/LayoutSpin\";\r\nimport lodash from 'lodash';\r\nimport { observer } from 'mobx-react';\r\nimport Pages from 'pages/index';\r\nimport Animate from 'rc-animate';\r\nimport React from 'react';\r\nimport { renderRoutes, RouteConfig } from 'react-router-config';\r\nimport Store from 'store';\r\nimport LayoutPro from \"./layout/antdPro\";\r\nimport External from \"./pages/external\";\r\nimport Login from \"./pages/login\";\r\nimport System from \"./pages/system\";\r\n\r\n/**\r\n *  react-router-config 配置文档  https://github.com/ReactTraining/react-router/tree/master/packages/react-router-config\r\n *  react-router 配置文档 https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/api/Route.md\r\n *  path 配置文档 https://github.com/pillarjs/path-to-regexp/tree/v1.7.0\r\n */\r\nconst router: RouteConfig[] = [\r\n    {  /**\r\n        * 主页布局 \r\n        */\r\n        path: \"/\",\r\n        component: AuthentRouter(LayoutPro),\r\n        //  业务路由\r\n        routes: [\r\n            {\r\n                path: \"/\",\r\n                exact: true,\r\n                // page 里面有个 echarts 比较大。所以拆开加载比较好\r\n                component: createCSSTransition(React.lazy(() => import(\"./pages/home\")))\r\n            },\r\n            {\r\n                // 外部页面\r\n                path: \"/external/:url\",\r\n                exact: true,\r\n                component: createCSSTransition(External)\r\n            },\r\n            {\r\n                path: \"/system\",\r\n                exact: true,\r\n                component: createCSSTransition(System)\r\n            },\r\n            ...initRouters(),\r\n            // 404  首页\r\n            {\r\n                component: createCSSTransition(Exception)\r\n            }\r\n        ]\r\n    }\r\n]\r\n/**\r\n * 路由认证 \r\n * @param Component \r\n */\r\nfunction AuthentRouter(Component: React.ComponentClass) {\r\n    return (props) => (\r\n        <AuthentComponent {...props}>\r\n            <Component {...props} />\r\n        </AuthentComponent>\r\n    )\r\n}\r\n\r\n@observer\r\nclass AuthentComponent extends React.Component<any> {\r\n    componentDidMount() {\r\n    }\r\n    render() {\r\n        if (Store.User.loding) {\r\n            return <LayoutSpin />\r\n        }\r\n        // 用户登陆菜单加载完成进入主界面\r\n        if (Store.User.isLogin) {\r\n            return this.props.children\r\n        }\r\n        return <Login {...this.props} />\r\n    }\r\n}\r\n/**\r\n* 初始化路由数据\r\n*/\r\nfunction initRouters() {\r\n    return lodash.map(Pages, (component: any, key) => {\r\n        if (typeof component === \"object\") {\r\n            return {\r\n                \"path\": component.path,\r\n                \"component\": createCSSTransition(component.component)\r\n            };\r\n        }\r\n        return {\r\n            \"path\": \"/\" + key,\r\n            \"component\": createCSSTransition(component)\r\n        };\r\n    })\r\n}\r\n/**\r\n *  过渡动画\r\n * @param Component \r\n * @param classNames \r\n */\r\nfunction createCSSTransition(Component: any, classNames = \"fade\") {\r\n    return class extends React.Component<any, any> {\r\n        // shouldComponentUpdate() {\r\n        //     return !globalConfig.tabsPage\r\n        // }\r\n        componentDidMount() {\r\n            // console.log(\"TCL: extends -> componentDidMount -> this.props\", this.props)\r\n        }\r\n        render() {\r\n            return <Animate\r\n                transitionName={classNames}\r\n                transitionAppear component=\"\" >\r\n                <div className=\"app-animate-content\" key=\"app-animate-content\" >\r\n                    <Component {...this.props} />\r\n                </div>\r\n            </Animate  >\r\n        }\r\n    }\r\n};\r\nexport default renderRoutes(router) \r\n","\r\nimport { Button, Form, Icon, Input, Popconfirm } from 'antd';\r\nimport { DesForm } from 'components/decorators';\r\nimport { default as GlobalConfig, default as globalConfig } from 'global.config';\r\nimport * as React from 'react';\r\nimport lodash from 'lodash';\r\nimport store from 'store/index';\r\nimport ImgCode from './imgCode';\r\nimport { LayoutLogin } from './layout';\r\nimport './style.less';\r\n\r\nfunction hasErrors(fieldsError) {\r\n  return Object.keys(fieldsError).some(field => fieldsError[field]);\r\n}\r\n@DesForm\r\nexport default class LoginDemo extends React.Component<any, any>{\r\n  state = {\r\n    loading: false,\r\n    notCode: false, //!globalConfig.development,取消注释可以在发布环境出现滑块验证\r\n    visible: false\r\n  }\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    if (this.state.loading) {\r\n      return\r\n    }\r\n    this.setState({ loading: true })\r\n    this.props.form.validateFields(async (err, values) => {\r\n      if (!err) {\r\n        try {\r\n          await store.User.Login(values);\r\n        } catch (error) {\r\n          this.setState({ loading: false })\r\n        }\r\n      }\r\n    });\r\n  }\r\n  onSuccess() {\r\n    this.setState({ notCode: false })\r\n  }\r\n  componentDidMount() {\r\n    try {\r\n      this.props.form.validateFields();\r\n    } catch (error) {\r\n\r\n    }\r\n    lodash.delay(() => {\r\n      // To disabled submit button at the beginning.\r\n      try {\r\n        this.props.form.validateFields();\r\n      } catch (error) {\r\n\r\n      }\r\n    }, 500)\r\n  }\r\n  render() {\r\n    const { getFieldDecorator, getFieldsError, isFieldTouched, getFieldError } = this.props.form;\r\n      const userNameError = isFieldTouched('account') && getFieldError('account');\r\n    const passwordError = isFieldTouched('password') && getFieldError('password');\r\n    const disabled = hasErrors(getFieldsError())\r\n    return (\r\n      <LayoutLogin>\r\n        <Form onSubmit={this.onSubmit.bind(this)} >\r\n          <h1>{GlobalConfig.settings.title}</h1>\r\n          <Form.Item\r\n            validateStatus={userNameError ? 'error' : ''}\r\n            help={userNameError || ''}\r\n          >\r\n                    {getFieldDecorator('account', {\r\n              rules: [{ required: true, message: '请输入 用户名!' }],\r\n              initialValue: globalConfig.development ? \"admin\" : ''\r\n            })(\r\n              <Input prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder=\"Username\" size=\"large\" />\r\n            )}\r\n          </Form.Item>\r\n          <Form.Item\r\n            validateStatus={passwordError ? 'error' : ''}\r\n            help={passwordError || ''}\r\n          >\r\n            {getFieldDecorator('password', {\r\n              rules: [{ required: true, message: '请输入 密码!' }],\r\n              initialValue: globalConfig.development ? \"000000\" : \"\"\r\n            })(\r\n              <Input prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />} type=\"password\" placeholder=\"Password\" size=\"large\" />\r\n            )}\r\n          </Form.Item>\r\n          <div\r\n            onMouseEnter={e => {\r\n              if (this.state.notCode && !disabled) {\r\n                this.setState({ visible: true })\r\n              }\r\n            }}\r\n            onMouseOut={e => {\r\n              if (!this.state.notCode) {\r\n                this.setState({ visible: false })\r\n              }\r\n            }}>\r\n            <Form.Item >\r\n              <Popconfirm\r\n                overlayClassName=\"app-login-imgcode\"\r\n                placement=\"top\"\r\n                title={<ImgCode onSuccess={this.onSuccess.bind(this)} key={String(this.state.notCode)} />}\r\n                trigger=\"hover\"\r\n                visible={this.state.visible && this.state.notCode}\r\n                icon=\"\" >\r\n                <Button\r\n                  disabled={disabled || this.state.notCode}\r\n                  type=\"primary\" htmlType=\"submit\" block size=\"large\"\r\n                  loading={this.state.loading}>\r\n                  <span > Log in</span>\r\n                </Button>\r\n              </Popconfirm>\r\n            </Form.Item>\r\n          </div>\r\n        </Form>\r\n      </LayoutLogin>\r\n    );\r\n  }\r\n}\r\n","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2018-09-10 05:07:36\r\n * @modify date 2018-09-10 05:07:36\r\n * @desc [description]\r\n*/\r\nimport { Alert, Button, Drawer, Icon, message, Tree } from 'antd';\r\nimport { toJS } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\nimport Store from 'store/index';\r\nconst TreeNode = Tree.TreeNode;\r\n@observer\r\nexport default class IApp extends React.Component<any, any> {\r\n    onSelect(selectedKeys, e) {\r\n        console.log(selectedKeys);\r\n    }\r\n    onDragEnter = (info) => {\r\n\r\n    }\r\n    onDrop = (info) => {\r\n        const dropKey = info.node.props.eventKey;\r\n        const dragKey = info.dragNode.props.eventKey;\r\n        const dropPos = info.node.props.pos.split('-');\r\n        if (dropPos.length > 2) {\r\n            return message.warning('只支持二级菜单');\r\n        }\r\n        if (dragKey == \"system\" || dropKey == \"system\") {\r\n            return message.warning('系统设置不可更改');\r\n        }\r\n        const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\r\n        // const dragNodesKeys = info.dragNodesKeys;\r\n        const loop = (data, key, callback) => {\r\n            data.forEach((item, index, arr) => {\r\n                if (item.Key === key) {\r\n                    return callback(item, index, arr);\r\n                }\r\n                if (item.Children) {\r\n                    return loop(item.Children, key, callback);\r\n                }\r\n            });\r\n        };\r\n        const data = [...toJS(Store.Meun.subMenu)];\r\n        let dragObj;\r\n        loop(data, dragKey, (item, index, arr) => {\r\n            arr.splice(index, 1);\r\n            dragObj = item;\r\n        });\r\n        // debugger\r\n        if (info.dropToGap) {\r\n            let ar;\r\n            let i;\r\n            loop(data, dropKey, (item, index, arr) => {\r\n                ar = arr;\r\n                i = index;\r\n            });\r\n            if (dropPosition === -1) {\r\n                ar.splice(i, 0, dragObj);\r\n            } else {\r\n                ar.splice(i + 1, 0, dragObj);\r\n            }\r\n        } else {\r\n            loop(data, dropKey, (item) => {\r\n                item.Children = item.Children || [];\r\n                // where to insert 示例添加到尾部，可以是随意位置\r\n                item.Children.push(dragObj);\r\n            });\r\n        }\r\n        Store.Meun.setSubMenu(data);\r\n    }\r\n\r\n    render() {\r\n        const TreeNodeConfig = {\r\n            disableCheckbox: true,\r\n            // selectable: false\r\n        }\r\n        return (\r\n            <div>\r\n                <Alert message=\"除了Home 和 system 之外 仅用于 开发配置 \" type=\"info\" showIcon />\r\n                <Tree\r\n                    showLine\r\n                    showIcon\r\n                    draggable={true}\r\n                    defaultExpandedKeys={['0-0-0']}\r\n                    onSelect={this.onSelect.bind(this)}\r\n                    onDragEnter={this.onDragEnter}\r\n                    onDrop={this.onDrop}\r\n                >\r\n                    {Store.Meun.subMenu.map((x, i) => <TreeNode {...TreeNodeConfig} title={x.Name} key={x.Key} icon={<Icon type={x.Icon} />} >\r\n                        {x.Children && x.Children.map((y, yi) => <TreeNode {...TreeNodeConfig} title={y.Name} key={y.Key} icon={<Icon type={y.Icon} />} />)}\r\n                    </TreeNode>)}\r\n                </Tree>\r\n                {/* <Button loading={Store.updateSubMenuLoading} onClick={() => { Store.updateSubMenu() }}>{Store.updateSubMenuLoading ? '等待编译...' : '保存'} </Button> */}\r\n                <DrawerComponent />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass DrawerComponent extends React.Component<any, any> {\r\n    state = { visible: false, childrenDrawer: false };\r\n\r\n    showDrawer = () => {\r\n        this.setState({\r\n            visible: true,\r\n        });\r\n    };\r\n\r\n    onClose = () => {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    };\r\n\r\n    showChildrenDrawer = () => {\r\n        this.setState({\r\n            childrenDrawer: true,\r\n        });\r\n    };\r\n\r\n    onChildrenDrawerClose = () => {\r\n        this.setState({\r\n            childrenDrawer: false,\r\n        });\r\n    };\r\n    public render() {\r\n        return (\r\n            <div>\r\n                <Button type=\"primary\" onClick={this.showDrawer}>\r\n                    保存菜单\r\n        </Button>\r\n                <Drawer\r\n                    title=\"Multi-level drawer\"\r\n                    width={520}\r\n                    closable={false}\r\n                    onClose={this.onClose}\r\n                    visible={this.state.visible}\r\n                >\r\n                    <Button type=\"primary\" onClick={this.showChildrenDrawer}>\r\n                        Two-level drawer\r\n          </Button>\r\n                    <Drawer\r\n                        title=\"Two-level Drawer\"\r\n                        width={320}\r\n                        closable={false}\r\n                        onClose={this.onChildrenDrawerClose}\r\n                        visible={this.state.childrenDrawer}\r\n                    >\r\n                        This is two-level drawer\r\n          </Drawer>\r\n                    <div\r\n                        style={{\r\n                            position: 'absolute',\r\n                            bottom: 0,\r\n                            width: '100%',\r\n                            borderTop: '1px solid #e8e8e8',\r\n                            padding: '10px 16px',\r\n                            textAlign: 'right',\r\n                            left: 0,\r\n                            background: '#fff',\r\n                            borderRadius: '0 0 4px 4px',\r\n                        }}\r\n                    >\r\n                        <Button\r\n                            style={{\r\n                                marginRight: 8,\r\n                            }}\r\n                            onClick={this.onClose}\r\n                        >\r\n                            Cancel\r\n            </Button>\r\n                        <Button onClick={this.onClose} type=\"primary\">\r\n                            Submit\r\n            </Button>\r\n                    </div>\r\n                </Drawer>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import * as React from 'react';\r\n\r\nexport interface IAppProps {\r\n}\r\n\r\nexport default class IApp extends React.Component<IAppProps, any> {\r\n  public render() {\r\n    return (\r\n      <div>\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2018-09-10 05:07:39\r\n * @modify date 2018-09-10 05:07:39\r\n * @desc [description]\r\n*/\r\nimport { Tabs } from 'antd';\r\nimport * as React from 'react';\r\nimport SubMenu from './subMenu';\r\nimport Authorize from './authorize';\r\n\r\nconst TabPane = Tabs.TabPane;\r\nexport default class IApp extends React.Component<any, any> {\r\n    public render() {\r\n        const TreeNodeConfig = {\r\n            disableCheckbox: true,\r\n            selectable: false\r\n        }\r\n        return (\r\n            <Tabs\r\n                defaultActiveKey=\"subMenu\"\r\n                tabPosition=\"left\"\r\n            >\r\n                {/* <TabPane tab=\"基础设置\" key=\"2\">Content of tab 2</TabPane> */}\r\n                <TabPane tab=\"菜单设置\" key=\"subMenu\">\r\n                    <SubMenu />\r\n                </TabPane>\r\n                <TabPane tab=\"权限设置\" key=\"authorize\">\r\n                    <Authorize />\r\n                </TabPane>\r\n            </Tabs>\r\n        );\r\n    }\r\n}\r\n","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2018-07-24 05:02:33\r\n * @modify date 2018-07-24 05:02:33\r\n * @desc [description]\r\n */\r\nimport { ConfigProvider } from 'antd';\r\nimport GlobalConfig from 'global.config';\r\nimport { getConfigProvider, getLocales } from 'locale';\r\nimport { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\nimport { IntlProvider } from 'react-intl';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport routes from './router';\r\n@observer\r\nexport default class App extends React.Component<any> {\r\n    public render() {\r\n        const { language } = GlobalConfig;\r\n        return (\r\n            <ConfigProvider locale={getConfigProvider(language)}>\r\n                <IntlProvider locale={language} messages={getLocales(language)}>\r\n                    <BrowserRouter >\r\n                        {routes}\r\n                    </BrowserRouter>\r\n                </IntlProvider>\r\n            </ConfigProvider>\r\n        );\r\n    }\r\n}\r\n","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2018-07-24 02:18:59\r\n * @modify date 2018-09-10 02:18:59\r\n * @desc [description]\r\n * \r\n */\r\nimport \"core-js\";\r\nimport 'viewerjs/dist/viewer.css';\r\nimport 'react-contexify/dist/ReactContexify.min.css';\r\nimport 'braft-editor/dist/index.css';\r\nimport 'nprogress/nprogress.css';\r\nimport \"assets/font/font\";\r\nimport './global.config';\r\nimport * as React from 'react';\r\nimport App from \"app/index\";\r\nimport ReactDOM from 'react-dom';\r\nReactDOM.render(<App/>,\r\n  document.getElementById('root'));\r\n","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2018-09-12 18:52:37\r\n * @modify date 2018-09-12 18:52:37\r\n * @desc [description]\r\n */\r\nimport { message, notification } from \"antd\";\r\nimport moment from \"moment\";\r\nimport lodash from \"lodash\";\r\nimport { ajax, AjaxRequest } from \"rxjs/ajax\";\r\nimport { Request } from \"./Request\";\r\n/** 文件服务器 */\r\nconst files = {\r\n    fileUpload: {\r\n        url: \"/api/_file/upload\",\r\n        method: \"post\"\r\n    },\r\n    fileDelete: {\r\n        url: \"/api/_file/DeletedFile/{id}\",\r\n        method: \"get\"\r\n    },\r\n    fileGet: {\r\n        url: \"/api/_file/getFile\",\r\n        method: \"get\"\r\n    },\r\n    fileDownload: {\r\n        url: \"/api/_file/downloadFile\",\r\n        method: \"get\"\r\n    }\r\n};\r\nexport class RequestFiles extends Request {\r\n    /**\r\n     *\r\n     * @param target 替换默认地址前缀\r\n     * @param newMap 替换默认过滤函数\r\n     */\r\n    constructor(target?, public newMap?) {\r\n        super(target);\r\n    }\r\n    /**\r\n     * 文件服务器地址\r\n     */\r\n    FileTarget = Request.compatibleUrl(this.target, files.fileUpload.url);\r\n    /**\r\n     * 删除文件\r\n     * @param id\r\n     */\r\n    async onFileDelete(id) {\r\n        const res = await this.ajax({ ...files.fileDelete, body: { id } }).toPromise();\r\n        return res;\r\n    }\r\n    /**\r\n     * 获取文件\r\n     * @param id\r\n     */\r\n    onFileUrl(id, target = this.target) {\r\n        if (id) {\r\n            const src = files.fileGet.url;\r\n            return `${Request.compatibleUrl(target, src)}/${id}`;\r\n        }\r\n    }\r\n    /**\r\n     * 获取 下周 文件\r\n     * @param id\r\n     */\r\n    onFileDownload(id, target = this.target) {\r\n        if (id) {\r\n            const src = files.fileDownload.url;\r\n            return `${Request.compatibleUrl(target, src)}/${id}`;\r\n        }\r\n    }\r\n    /** 文件获取状态 */\r\n    private downloadLoading = false;\r\n    /**\r\n     * 下载文件\r\n     * @param AjaxRequest\r\n     * @param fileType\r\n     * @param fileName\r\n     */\r\n    async download(\r\n        AjaxRequest: AjaxRequest,\r\n        fileType = \".xls\",\r\n        fileName = moment().format(\"YYYY_MM_DD_hh_mm_ss\")\r\n    ) {\r\n        this.getHeaders();\r\n        if (this.downloadLoading) {\r\n            return message.warn(\"文件获取中，请勿重复操作~\");\r\n        }\r\n        this.downloadLoading = true;\r\n        Request.NProgress();\r\n        AjaxRequest.url = Request.compatibleUrl(this.target, AjaxRequest.url);\r\n        AjaxRequest = {\r\n            // url: url,\r\n            method: \"post\",\r\n            responseType: \"blob\",\r\n            timeout: this.timeout,\r\n            headers: this.getHeaders(),\r\n            ...AjaxRequest\r\n        };\r\n        /**\r\n         * get 方式 直接打开窗口\r\n         */\r\n        // if (lodash.isEqual(lodash.toLower('get'), AjaxRequest.method)) {\r\n        //     window.open(AjaxRequest.url)\r\n        // } else {\r\n        // post\r\n        if (AjaxRequest.body) {\r\n            AjaxRequest.body = Request.formatBody(\r\n                AjaxRequest.body,\r\n                \"body\",\r\n                AjaxRequest.headers\r\n            );\r\n        }\r\n        try {\r\n            const result = await ajax(AjaxRequest).toPromise();\r\n            const disposition = result.xhr.getResponseHeader('content-disposition');\r\n            fileName = disposition.match(/filename=(.*?);/)[1];\r\n            this.onCreateBlob(result.response, fileName).click();\r\n            notification.success({\r\n                key: \"download\",\r\n                message: `文件下载成功`,\r\n                description: \"\"\r\n            });\r\n        } catch (error) {\r\n            notification.error({\r\n                key: \"download\",\r\n                message: \"文件下载失败\",\r\n                description: error.message\r\n            });\r\n        }\r\n        // }\r\n        Request.NProgress(\"done\");\r\n        this.downloadLoading = false;\r\n    }\r\n    /**\r\n     * 创建二进制文件\r\n     * @param response\r\n     */\r\n    onCreateBlob(\r\n        response,\r\n        // fileType = \".xls\",\r\n        fileName = moment().format(\"YYYY_MM_DD_hh_mm_ss\")\r\n    ) {\r\n        const blob = response;\r\n        const a = document.createElement(\"a\");\r\n        const downUrl = window.URL.createObjectURL(blob);\r\n        a.href = downUrl;\r\n        a.download = fileName;\r\n        a.addEventListener(\r\n            \"click\",\r\n            () => {\r\n                console.log(\"addEventListener\");\r\n                setTimeout(() => {\r\n                    window.URL.revokeObjectURL(downUrl);\r\n                }, 1000);\r\n            },\r\n            false\r\n        );\r\n        return a;\r\n    }\r\n    /**\r\n     * 重写 Upload 默认请求  https://ant.design/components/upload-cn/#onChange\r\n     * @param option\r\n     * @param responseType\r\n     */\r\n    customRequest(option, responseType: XMLHttpRequestResponseType = \"\") {\r\n        function getError(option, xhr) {\r\n            const msg = `cannot post ${option.action} ${xhr.status}'`;\r\n            const err = new Error(msg) as any;\r\n            err.status = xhr.status;\r\n            err.method = \"post\";\r\n            err.url = option.action;\r\n            return err;\r\n        }\r\n        function getBody(xhr) {\r\n            if (xhr.responseType == \"blob\") {\r\n                return xhr.response;\r\n            }\r\n            const text = xhr.responseText || xhr.response;\r\n            if (!text) {\r\n                return text;\r\n            }\r\n\r\n            try {\r\n                return JSON.parse(text);\r\n            } catch (e) {\r\n                return text;\r\n            }\r\n        }\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.responseType = responseType;\r\n        if (option.onProgress && xhr.upload) {\r\n            xhr.upload.onprogress = function progress(e: any) {\r\n                if (e.total > 0) {\r\n                    e.percent = (e.loaded / e.total) * 100;\r\n                }\r\n                option.onProgress(e);\r\n            };\r\n        }\r\n        const formData = new FormData();\r\n        if (option.data) {\r\n            Object.keys(option.data).map(key => {\r\n                formData.append(key, option.data[key]);\r\n            });\r\n        }\r\n        formData.append(option.filename, option.file);\r\n        xhr.onerror = function error(e) {\r\n            option.onError(e);\r\n        };\r\n        xhr.onload = function onload() {\r\n            if (xhr.status < 200 || xhr.status >= 300) {\r\n                return option.onError(getError(option, xhr), getBody(xhr));\r\n            }\r\n            option.onSuccess(getBody(xhr), xhr);\r\n        };\r\n        xhr.open(\"post\", option.action, true);\r\n        if (option.withCredentials && \"withCredentials\" in xhr) {\r\n            xhr.withCredentials = true;\r\n        }\r\n        const headers = option.headers || {};\r\n        if (headers[\"X-Requested-With\"] !== null) {\r\n            xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n        }\r\n        for (const h in headers) {\r\n            if (headers.hasOwnProperty(h) && headers[h] !== null) {\r\n                xhr.setRequestHeader(h, headers[h]);\r\n            }\r\n        }\r\n        xhr.send(formData);\r\n        return {\r\n            abort() {\r\n                xhr.abort();\r\n            }\r\n        };\r\n    }\r\n}\r\nexport default new RequestFiles();\r\n","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2018-09-12 18:52:54\r\n * @modify date 2018-09-12 18:52:54\r\n * @desc [description]\r\n*/\r\nimport { MenuDataItem } from '@ant-design/pro-layout';\r\nimport Regular from 'utils/Regular';\r\nimport { action, observable, runInAction, computed } from \"mobx\";\r\nimport lodash from 'lodash';\r\nimport Request from 'utils/Request';\r\nimport User from './user';\r\nimport globalConfig from 'global.config';\r\nimport { getLocalesValue } from 'locale';\r\n\r\nclass Store {\r\n    constructor() {\r\n    }\r\n    /** 菜单展开 收起 */\r\n    @observable collapsed = lodash.get(globalConfig, 'collapsed', true);\r\n    /** 菜单 */\r\n    @observable subMenu: any[] = [];\r\n    // 平行数据菜单\r\n    ParallelMenu: any[] = [];\r\n    /**\r\n     * 获取菜单\r\n     */\r\n    async onInitMenu(menu: any[]) {\r\n        if (globalConfig.development) {\r\n            menu = await Request.ajax('/subMenu.json').toPromise()//import(\"../../subMenu.json\").then(x => x.default);\r\n        }\r\n        menu = lodash.map(menu, data => {\r\n            // 跨域页面\r\n            if (Regular.url.test(data.Url)) {\r\n                data.Url = \"/external/\" + encodeURIComponent(data.Url);\r\n            } else\r\n                // public 下的 pages 页面\r\n                if (lodash.startsWith(data.Url, globalConfig.staticPage)) {\r\n                    data.Url = \"/external/\" + encodeURIComponent(lodash.replace(data.Url, globalConfig.staticPage, `${window.location.origin}`));\r\n                }\r\n            return data;\r\n        })\r\n        this.setSubMenu(menu);\r\n    }\r\n    /**\r\n     * 递归 格式化 树\r\n     * @param datalist \r\n     * @param ParentId \r\n     * @param children \r\n     */\r\n    recursionTree(datalist, ParentId, children: MenuDataItem[] = []) {\r\n        lodash.filter(datalist, ['ParentId', ParentId]).map(data => {\r\n            data = lodash.cloneDeep(data);\r\n            data.children = this.recursionTree(datalist, data.Id, data.children || []);\r\n            children.push(data);\r\n        });\r\n        return children;\r\n    }\r\n    /**  设置菜单 */\r\n    @action.bound\r\n    setSubMenu(subMenu) {\r\n        this.ParallelMenu = subMenu.map(data => {\r\n            return lodash.merge({ ParentId: null }, data, {\r\n                key: data.Id,\r\n                path: data.Url || '',\r\n                name: getLocalesValue(data.Text, data.Text),\r\n                icon: data.Icon || \"pic-right\",\r\n                children: []\r\n            })\r\n        });\r\n        const menu = this.recursionTree(this.ParallelMenu, null, []);\r\n        console.log(menu)\r\n        this.subMenu = menu\r\n    }\r\n    /**\r\n   * 菜单 展开收起\r\n   */\r\n    @action\r\n    onCollapsed(collapsed = !this.collapsed) {\r\n        this.collapsed = collapsed;\r\n        // 主动触发 浏览器 resize 事件\r\n        dispatchEvent(new CustomEvent('resize'));\r\n    }\r\n    @computed\r\n    get collapsedWidth() {\r\n        return this.collapsed ? 80 : 250;\r\n    }\r\n\r\n}\r\nexport default new Store();","import { notification } from 'antd';\r\nimport { Settings } from 'app/layout/antdPro/SettingDrawer';\r\nimport ImgLogo from 'assets/img/logo.png';\r\nimport ImgUser from 'assets/img/user.png';\r\nimport lodash from 'lodash';\r\nimport { configure, observable, toJS } from 'mobx';\r\nimport { create, persist } from 'mobx-persist';\r\nimport themeColor from 'utils/themeColor';\r\nimport Help from 'utils/Help';\r\nimport moment from 'moment';\r\n// import 'moment/locale/zh-cn';\r\nimport \"./global.less\";\r\n// const language = lodash.get(window, 'navigator.language', 'zh-CN');\r\n// mobx 严格模式 https://cn.mobx.js.org/refguide/api.html\r\nconfigure({ enforceActions: \"observed\" });\r\nnotification.config({\r\n    duration: 3,\r\n    top: 60\r\n});\r\nconst hydrate = create({\r\n    storage: window.localStorage,   // 存储的对象\r\n    jsonify: true, // 格式化 json\r\n    // debounce: 1000,\r\n});\r\n// 环境变量 开发 模型\r\nconst development = process.env.NODE_ENV === \"development\"\r\nclass ConfigStore {\r\n    constructor() {\r\n        hydrate('WTM_GlobalConfig', this)\r\n            // post hydration\r\n            .then(() => {\r\n                console.log('WTM_GlobalConfig', toJS(this));\r\n                // 主题色\r\n                themeColor.changeColor(this.settings.primaryColor);\r\n                window['g_locale'] = this.language;\r\n                // 日期中文\r\n                moment.locale(lodash.toLower(this.language));\r\n            })\r\n    }\r\n    buildTime = process.env.REACT_APP_TIME;\r\n    /**\r\n    * 开发环境\r\n    */\r\n    development = development;\r\n    /**\r\n     * 默认配置\r\n     */\r\n    default = {\r\n        // title: \"LQClass.Admin\",\r\n        logo: ImgLogo,\r\n        avatar: ImgUser,\r\n    };\r\n    /**\r\n     * 语言\r\n     * @memberof ConfigStore\r\n     */\r\n    @persist\r\n    @observable\r\n    language: \"zh-CN\" | \"en-US\" = Help.GetNavigatorLanguage();\r\n    /**\r\n     * ant Pro 布局 设置  https://github.com/ant-design/ant-design-pro-layout/blob/master/README.zh-CN.md#MenuDataItem\r\n     * @type {Settings}\r\n     * @memberof ConfigStore\r\n     */\r\n    @persist(\"object\")\r\n    @observable\r\n    settings: Settings = {\r\n        // 导航的主题 'light' | 'dark'\r\n        navTheme: 'dark',\r\n        // layout 的菜单模式,sidemenu：右侧导航，topmenu：顶部导航 'sidemenu' | 'topmenu'\r\n        layout: 'sidemenu',\r\n        // layout 的内容模式,Fluid：定宽 1200px，Fixed：自适应\r\n        contentWidth: 'Fluid',\r\n        primaryColor: \"#1890FF\",\r\n        // 是否固定 header 到顶部\r\n        fixedHeader: true,\r\n        // 是否下滑时自动隐藏 header\r\n        autoHideHeader: false,\r\n        // 是否固定导航\r\n        fixSiderbar: true,\r\n        // 关于 menu 的配置，暂时只有 locale,locale 可以关闭 menu 的自带的全球化\r\n        menu: {\r\n            locale: true,\r\n        },\r\n        // layout 的 左上角 的 title\r\n        title: 'WalkingTec MVVM',\r\n        // 使用 IconFont 的图标配置\r\n        iconfontUrl: '',\r\n        // 弹框类型\r\n        infoType: \"Modal\",\r\n        /**\r\n        * AgGrid 主题\r\n        * ag-theme-balham\r\n        * ag-theme-material\r\n        */\r\n        agGridTheme: \"ag-theme-balham\",\r\n        /**\r\n         * 页签 页面\r\n         */\r\n        tabsPage: true,\r\n    }\r\n    /**\r\n     * 服务器地址 前缀\r\n     * process.env.NODE_ENV === \"development\" 根据 环境替换\r\n     */\r\n    target = \"/api\";\r\n    /**\r\n     * 请求头\r\n     */\r\n    getHeaders(headers?) {\r\n        headers = lodash.merge({\r\n            credentials: 'include',\r\n            accept: \"*/*\",\r\n            \"Content-Type\": \"application/json\",\r\n            'Accept-Language': this.language,\r\n            token: this.token.get()\r\n        }, headers);\r\n        console.log(\"ConfigStore -> getHeaders -> headers\", headers)\r\n        return headers\r\n    };\r\n    /**\r\n     * token\r\n     */\r\n    token = {\r\n        set(token) {\r\n            window.localStorage.setItem('__token', token);\r\n            return token\r\n        },\r\n        get() {\r\n            return window.localStorage.getItem('__token') || null;\r\n        },\r\n        clear() {\r\n            window.localStorage.removeItem(\"__User\");\r\n            //window.localStorage.clear();\r\n            window.location.pathname = \"/\"\r\n        }\r\n    };\r\n    /** 列表 分页 可选 行数 以下是默认值 */\r\n    // pageSizeOptions: ['10', '20', '30', '40', '50', '100', '200'],\r\n    /** 列表 行  */\r\n    // @persist\r\n    @observable\r\n    Limit = 50;\r\n    /** \r\n     * 详情信息 展示类型 \r\n     */\r\n    // @persist\r\n    // @observable\r\n    // infoType = \"Modal\";//Drawer || Modal\r\n    /** \r\n    * 详情信息 展示 宽度\r\n    */\r\n    // @persist\r\n    @observable\r\n    infoTypeWidth = '900px';\r\n    /**\r\n     * 表单 item lable 占比\r\n     * doc:https://ant.design/components/form-cn/\r\n     */\r\n    // @persist(\"object\")\r\n    @observable\r\n    formItemLayout = {\r\n        labelCol: {\r\n            span: 6\r\n        },\r\n        wrapperCol: {\r\n            span: 16\r\n        },\r\n    };\r\n    /**\r\n     * 详情信息 列 数 24 的除数\r\n     */\r\n    // @persist\r\n    @observable\r\n    infoColumnCount = 2;\r\n    /**\r\n    * 搜索 列 数 24 的除数\r\n    */\r\n    // @persist\r\n    @observable\r\n    searchColumnCount = 3;\r\n    /**\r\n     * 锁定表格滚动\r\n     */\r\n    // @persist\r\n    @observable\r\n    lockingTableRoll = true;\r\n    /**\r\n     * 静态页面 标记\r\n     */\r\n    // @persist\r\n    @observable\r\n    staticPage = \"@StaticPage\";\r\n}\r\nconst GlobalConfig = new ConfigStore();\r\n\r\nexport default GlobalConfig\r\n","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2018-09-12 18:53:01\r\n * @modify date 2018-09-12 18:53:01\r\n * @desc [description]\r\n*/\r\nimport lodash from 'lodash';\r\nexport class Help {\r\n    static GUID() {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\r\n            let r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    }\r\n    /**\r\n     * 比较Form 字段的 值 ，都转换为 字符串 比较\r\n     * @param props 表单 props\r\n     * @param Field 表单 id\r\n     * @param eqValue 比较的字段\r\n     * @param nullValues 表单属性 值 为空情况下 返回默认 布尔值\r\n     */\r\n    static FormValueEqual(props: WTM.FormProps, Field, eqValue, nullValues = false) {\r\n        const FieldValue = Help.GetFormValue(props, Field);\r\n        if (FieldValue === '' || FieldValue === undefined || FieldValue === null) {\r\n            return nullValues\r\n        }\r\n        return lodash.eq(FieldValue, lodash.toString(eqValue))\r\n    }\r\n\r\n    static GetFormValue(props: WTM.FormProps, Field) {\r\n        const FieldValue = lodash.toString(props.form.getFieldValue(Field));\r\n        if (FieldValue === '' || FieldValue === undefined || FieldValue === null) {\r\n            return lodash.toString(lodash.get(props.defaultValues, Field))\r\n        }\r\n        return FieldValue\r\n    }\r\n    static GetNavigatorLanguage() {\r\n        const language = window.navigator.language;\r\n        switch (true) {\r\n            case lodash.includes(['zh-CN', 'zh-cn', 'zh'], language):\r\n                return 'zh-CN'\r\n                break;\r\n            case lodash.includes(['en', 'en-US'], language):\r\n                return 'en-US'\r\n                break;\r\n            default:\r\n                return 'zh-CN'\r\n                break;\r\n        }\r\n    }\r\n}\r\nexport default Help","module.exports = __webpack_public_path__ + \"static/media/logo.6503b337.png\";","import client from 'webpack-theme-color-replacer/client';\r\nimport generate from '@ant-design/colors/lib/generate';\r\nimport { message } from 'antd';\r\nimport { getLocalesValue } from 'locale';\r\nlet oldColor = \"#1890FF\"\r\nexport default {\r\n  getAntdSerials(color: string): string[] {\r\n    const lightCount = 9;\r\n    const divide = 10;\r\n    // 淡化（即less的tint）\r\n    let lightens = new Array(lightCount).fill(0);\r\n    lightens = lightens.map((_, i) => client.varyColor.lighten(color, i / divide));\r\n    const colorPalettes = generate(color);\r\n    const rgb = client.varyColor.toNum3(color.replace('#', '')).join(',');\r\n    return lightens.concat(colorPalettes).concat(rgb);\r\n  },\r\n  async changeColor(color?: string): Promise<void> {\r\n    console.log(\"color\", oldColor, color)\r\n    if (!color || oldColor === color) {\r\n      return Promise.resolve();\r\n    }\r\n    const options = {\r\n      // new colors array, one-to-one corresponde with `matchColors`\r\n      oldColors: this.getAntdSerials(oldColor),\r\n      newColors: this.getAntdSerials(color),\r\n      changeUrl(cssUrl: string = 'static/css/theme-colors.css'): string {\r\n        // while router is not `hash` mode, it needs absolute path\r\n        return `/${cssUrl}`;\r\n      },\r\n    };\r\n    message.loading({ content: getLocalesValue('tips.theme.loading'), key: 'changeColor' });\r\n    const res = await client.changer.changeColor(options, Promise);\r\n    message.destroy();\r\n    oldColor = color;\r\n    return;\r\n  },\r\n};","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2018-09-12 18:52:54\r\n * @modify date 2018-09-12 18:52:54\r\n * @desc [description]\r\n*/\r\nimport Request from 'utils/Request';\r\nimport lodash from 'lodash';\r\nimport { action, observable, runInAction } from \"mobx\";\r\nimport { create, persist } from 'mobx-persist';\r\nimport Menu from './menu'\r\nimport globalConfig from 'global.config';\r\nconst hydrate = create({\r\n    storage: window.localStorage,   // or AsyncStorage in react-native.\r\n    jsonify: true,  // if you use AsyncStorage, here shoud be true\r\n    debounce: 1000,\r\n})\r\nclass Store {\r\n    constructor() {\r\n        hydrate(`__User`, this).then(() => {\r\n            this.CheckLogin()\r\n        })\r\n    }\r\n    @observable loding = true;\r\n    @observable isLogin = false;\r\n    // 用户信息\r\n    @persist(\"object\")\r\n    @observable UserInfo: any = {};\r\n    /** 操作接口数组 */\r\n    Actions = [];\r\n    @action\r\n    async onSetUserInfo(userInfo) {\r\n        this.UserInfo = userInfo;\r\n        this.Actions = lodash.map(lodash.get(userInfo, 'Attributes.Actions', []), lodash.toLower);\r\n        await Menu.onInitMenu(lodash.get(userInfo, 'Attributes.Menus', []));\r\n        runInAction(() => {\r\n            this.isLogin = true;\r\n        })\r\n    }\r\n    @action.bound\r\n    async CheckLogin() {\r\n        try {\r\n            const userid = lodash.get(this.UserInfo, 'ITCode');\r\n            if (userid) {\r\n                const res = await Request.ajax(\"/api/_Account/CheckUserInfo\" ).toPromise();\r\n                await this.onSetUserInfo(res);\r\n            }\r\n        } catch (error) {\r\n            this.outLogin(false);\r\n            throw error\r\n        } finally {\r\n            runInAction(() => this.loding = false)\r\n        }\r\n    }\r\n    async Login(params) {\r\n        try {\r\n            const res = await Request.ajax({\r\n                method: \"post\",\r\n                url: \"/api/_Account/Login\",\r\n                body: params,\r\n                headers: { 'Content-Type': null }\r\n            }).toPromise();\r\n            await this.onSetUserInfo(res);\r\n        } catch (error) {\r\n            console.log(error)\r\n            throw error\r\n        }\r\n        finally {\r\n            runInAction(() => this.loding = false)\r\n        }\r\n    }\r\n    @action.bound\r\n    async outLogin(Logout = true) {\r\n        this.isLogin = false;\r\n        this.UserInfo = null;\r\n        if (Logout) {\r\n            try {\r\n                Request.ajax(\"/api/_Account/Logout\").toPromise();\r\n            } catch (error) {\r\n            }\r\n        }\r\n        globalConfig.token.clear()\r\n    }\r\n\r\n}\r\nexport default new Store();\r\n","const config = {\r\n  403: {\r\n    img: 'https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg',\r\n    title: '403',\r\n    desc: '抱歉，你无权访问该页面',\r\n  },\r\n  404: {\r\n    img: 'https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg',\r\n    title: '404',\r\n    desc: '抱歉，你访问的页面不存在',\r\n  },\r\n  500: {\r\n    img: 'https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg',\r\n    title: '500',\r\n    desc: '抱歉，服务器出错了',\r\n  },\r\n};\r\n\r\nexport default config;\r\n","import React, { createElement } from 'react';\r\nimport { Button } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport config from './typeConfig';\r\nimport './index.less';\r\nimport { FormattedMessage } from 'react-intl';\r\ninterface IExceptionProps {\r\n  type?: '403' | '404' | '500';\r\n  title?: React.ReactNode;\r\n  desc?: React.ReactNode;\r\n  img?: string;\r\n  actions?: React.ReactNode;\r\n  linkElement?: string | React.ComponentType;\r\n  style?: React.CSSProperties;\r\n  className?: string;\r\n  backText?: React.ReactNode;\r\n  redirect?: string;\r\n  [key: string]: any;\r\n}\r\nclass Exception extends React.PureComponent<IExceptionProps, any>{\r\n  static defaultProps = {\r\n    backText: 'back to home',\r\n    redirect: '/',\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      className,\r\n      backText,\r\n      linkElement = 'a',\r\n      type,\r\n      title,\r\n      desc,\r\n      img,\r\n      actions,\r\n      redirect,\r\n      staticContext,\r\n      ...rest\r\n    } = this.props;\r\n    const pageType = type in config ? type : '404';\r\n    return (\r\n      <div className={'exception'} {...rest}>\r\n        <div className={'imgBlock'}>\r\n          <div\r\n            className={'imgEle'}\r\n            style={{ backgroundImage: `url(${img || config[pageType].img})` }}\r\n          />\r\n        </div>\r\n        <div className={'content'}>\r\n          <h1>{title || config[pageType].title}</h1>\r\n          <div className={'desc'}>{desc ||  <FormattedMessage id={`tips.status.${pageType}`} />}</div>\r\n          <div className={'actions'}>\r\n            {actions ||\r\n              // createElement(\r\n              //   linkElement as any,\r\n              //   {\r\n              //     to: redirect,\r\n              //     href: redirect,\r\n              //   },\r\n              //   <Button type=\"primary\">{backText}</Button>\r\n              // )\r\n              <Link to={redirect}><Button type=\"primary\">{backText}</Button></Link>\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Exception;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"app-menu-3tVwg\",\"dropDown\":\"app-dropDown-36DsX\"};","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2018-09-12 18:52:54\r\n * @modify date 2018-09-12 18:52:54\r\n * @desc [description]\r\n*/\r\nimport Exception from 'components/other/Exception';\r\nimport lodash from 'lodash';\r\nimport React from 'react';\r\nimport PageStore from '../dataSource/index';\r\nimport Menu from './menu';\r\nimport User from './user';\r\nimport { Request } from 'utils/Request';\r\nimport globalConfig from 'global.config';\r\n\r\nclass Store {\r\n    constructor() {\r\n\r\n    }\r\n    /**\r\n     * 认证动作\r\n     * @param url \r\n     */\r\n    onAuthorizeActions(url) {\r\n        return lodash.includes(User.Actions, lodash.toLower(url))\r\n    }\r\n    /**\r\n     * 认证通道 \r\n     * @param props  \r\n     */\r\n    onPassageway(props) {\r\n        const { location } = props;\r\n        // 查找用户菜单配置中是否有当前路径\r\n        return lodash.some(Menu.ParallelMenu, [\"Url\", location.pathname])\r\n    }\r\n}\r\nconst AuthorizeStore = new Store();\r\nexport default AuthorizeStore\r\n/**\r\n * 权限装饰器\r\n * @param PageParams \r\n */\r\nexport function AuthorizeDecorator(PageParams: { PageStore: PageStore }) {\r\n    return function <T extends { new(...args: any[]): React.Component<any, any> }>(constructor: T) {\r\n        return class extends constructor {\r\n            // constructor(props) {\r\n            //     super(props);\r\n            //     // PageParams.PageStore.defaultSearchParams = lodash.get(this.props, \"defaultSearchParams\", {});\r\n            // }\r\n            shouldComponentUpdate() {\r\n                return false\r\n            }\r\n            // componentWillMount() {\r\n\r\n            //     // console.log(this.props)\r\n            //     // 假设 所有 为 false\r\n            //     // notification.info({ message: \"假设有权限 2 秒后\" });\r\n            //     super.componentWillMount && super.componentWillMount()\r\n            // }\r\n            render(): any {\r\n                console.log(\"TCL: extends -> returnfunction<Textends{new -> AuthorizeStore.onPassageway(this.props)\", AuthorizeStore.onPassageway(this.props))\r\n                if (AuthorizeStore.onPassageway(this.props)) {\r\n                    return super.render();\r\n                }\r\n                return <Exception type=\"404\" desc={<h3>无法匹配 <code>{this.props.location.pathname}</code></h3>} />\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n* url 类型\r\n*/\r\ndeclare type UrlKeyType = \"search\" | \"details\" | \"insert\" | \"update\" | \"delete\" | \"import\" | \"export\" | \"exportIds\" | \"template\"\r\n/**\r\n * 认证动作\r\n * @param PageStore 页面 Store\r\n * @param UrlsKey 按钮对应 URL 权限 在 PageStore apis 中 未匹配 将 拿原始值 比对。\r\n */\r\nexport function onAuthorizeActions(PageStore: PageStore, UrlsKey: UrlKeyType | any) {\r\n    if (globalConfig.development) {\r\n        return true;\r\n    }\r\n    // 查找配置中的 值 \r\n    const actionUrl = lodash.get(PageStore, `options.Apis.${UrlsKey}.url`);\r\n    if (actionUrl) {\r\n        return AuthorizeStore.onAuthorizeActions(Request.compatibleUrl(globalConfig.target, actionUrl));\r\n    }\r\n    // 未查找到。使用原始 值 比较\r\n    else {\r\n        return AuthorizeStore.onAuthorizeActions(UrlsKey);\r\n    }\r\n    // return lodash.get(PageStore, `Urls.${UrlsKey}.url`, GlobalConfig.development)// 开发 环境 默认返回 true\r\n}\r\n","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2019-02-24 17:05:58\r\n * @modify date 2019-02-24 17:05:58\r\n * @desc [description]\r\n */\r\nimport { Button, Col, Divider, Form, Icon, Row, Spin, notification } from 'antd';\r\nimport { WrappedFormUtils } from 'antd/lib/form/Form';\r\nimport { DesError } from 'components/decorators';\r\nimport GlobalConfig from 'global.config';\r\nimport lodash from 'lodash';\r\nimport { action, observable, runInAction } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\nimport Store from 'store/dataSource';\r\nimport { Debounce, BindAll } from 'lodash-decorators';\r\n\r\nimport \"./style.less\";\r\nimport { FormattedMessage } from 'react-intl';\r\ninterface IAppProps {\r\n    /** 状态 */\r\n    Store: Store;\r\n    /** 表单 */\r\n    form: WrappedFormUtils;\r\n    /** 列数 */\r\n    columnCount?: number;\r\n    /** 提交方法 */\r\n    onSubmit?: (event?) => void;\r\n    /** 重置方法 */\r\n    onReset?: (event?) => void;\r\n    [key: string]: any;\r\n}\r\n/**\r\n * 搜索标题组件 \r\n * \r\n * 不要直接修改 wtm 组件 使用继承重写的方式修改\r\n */\r\n@DesError\r\n@observer\r\n@BindAll()\r\nexport class DataViewSearch extends React.Component<IAppProps, any> {\r\n    ref = React.createRef<HTMLDivElement>();\r\n    Store: Store = this.props.Store;\r\n    @observable toggle = false;\r\n    columnCount = GlobalConfig.searchColumnCount || 3;\r\n    @observable key = Date.now();\r\n    componentDidMount() {\r\n        this.onSubmit()\r\n    }\r\n    onSetErrorMsg(Form) {\r\n        // console.log(\"DataViewSearch -> onSetErrorMsg -> Form\", Form)\r\n        const { setFields, getFieldValue } = this.props.form;\r\n        let msg = '';\r\n        // setFields(\r\n        lodash.mapValues(Form, (error, key) => {\r\n            msg += ` ` + error;\r\n            // return {\r\n            //     value: getFieldValue(key),\r\n            //     errors: [new Error(error)]\r\n            // }\r\n        })\r\n        // )\r\n\r\n        msg && notification.error({\r\n            key: 'DataViewSearch',\r\n            message: msg, //ajax.status,\r\n            duration: 5,\r\n            // description: `${ajax.request.method}: ${ajax.request.url}`,\r\n        });\r\n    }\r\n    async onSearch(values) {\r\n        console.log(\"搜索参数\", values);\r\n        try {\r\n            await this.Store.onSearch(values)\r\n        } catch (error) {\r\n            console.log(\"DataViewSearch -> onSearch -> error\", error)\r\n            if (lodash.hasIn(error, 'Form')) {\r\n                this.onSetErrorMsg(error.Form)\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 提交表单\r\n     * @param e \r\n     */\r\n    // @Debounce(500)\r\n    onSubmit(e?) {\r\n        if (e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n        if (this.props.onSubmit) {\r\n            return this.props.onSubmit(e)\r\n        }\r\n\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                this.onSearch(values)\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * 重置表单\r\n     * @param e \r\n     */\r\n    // @Debounce(500)\r\n    onReset(e) {\r\n        if (this.props.onReset) {\r\n            return this.props.onReset(e)\r\n        }\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        const { resetFields } = this.props.form;\r\n        resetFields();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                // this.Store.onSearch(lodash.mapValues(values, x => undefined))\r\n                this.onSearch(lodash.mapValues(values, x => undefined))\r\n                runInAction(() => { this.key = Date.now() })\r\n            }\r\n        });\r\n    }\r\n    // @Debounce(500)\r\n    @action\r\n    onToggle() {\r\n        this.toggle = !this.toggle;\r\n        document.body.style.overflowY = \"hidden\";\r\n        const parentNode: HTMLDivElement = this.ref.current && this.ref.current.parentNode as HTMLDivElement;\r\n        if (parentNode && parentNode.offsetHeight) {\r\n            parentNode.style.overflow = \"hidden\";\r\n            parentNode.style.maxHeight = `${parentNode.clientHeight}px`;\r\n        }\r\n        lodash.defer(() => {\r\n            // 主动触发 浏览器 resize 事件\r\n            dispatchEvent(new CustomEvent('resize'));\r\n            lodash.delay(() => {\r\n                document.body.style.overflowY = \"\";\r\n                if (parentNode && parentNode.offsetHeight) {\r\n                    parentNode.style.overflow = '';\r\n                    parentNode.style.maxHeight = ``;\r\n                }\r\n            }, 600)\r\n        })\r\n    }\r\n    render() {\r\n        let items = [],\r\n            columnCount = this.props.columnCount || this.columnCount,\r\n            childrens = React.Children.toArray(this.props.children),\r\n            toggleShow = childrens.length >= columnCount,\r\n            colSpan = 24 / columnCount,//每列 值\r\n            colSpanSearch = colSpan;\r\n        // debugger\r\n        // 展开收起\r\n        if (this.toggle) {\r\n            items = childrens;\r\n        } else {\r\n            items = [...childrens].splice(0, columnCount - 1);\r\n        }\r\n        const itemslength = items.length\r\n        // 列行数\r\n        if (itemslength === columnCount) {\r\n            colSpanSearch = 24;\r\n        } else if (itemslength > columnCount) {\r\n            colSpanSearch = (columnCount - (itemslength % columnCount)) * colSpan\r\n        } else {\r\n            colSpanSearch = (columnCount - itemslength) * colSpan\r\n        }\r\n        const { PageState } = this.Store;\r\n        return (\r\n            <div ref={this.ref}>\r\n                {items.length > 0 && <Form className=\"data-view-search\" onSubmit={this.onSubmit}>\r\n                    <Row type=\"flex\" align=\"top\">\r\n                        {items.map(x => <Col key={`${this.key}_${x.key}`} lg={colSpan} md={12} sm={24} xs={24} >{x}</Col>)}\r\n                        <Col lg={colSpanSearch} md={24} sm={24} xs={24} className=\"data-view-search-right\" >\r\n                            <Button loading={PageState.tableLoading} icon=\"search\" type=\"primary\" htmlType=\"submit\" ><FormattedMessage id=\"action.search\" /></Button>\r\n                            <Divider type=\"vertical\" />\r\n                            <Button loading={PageState.tableLoading} icon=\"retweet\" onClick={this.onReset} ><FormattedMessage id=\"action.reset\" /></Button>\r\n                            {\r\n                                toggleShow && <>\r\n                                    <Divider type=\"vertical\" />\r\n                                    <a className=\"data-view-search-toggle\" onClick={this.onToggle}>\r\n                                        {this.toggle ? <><FormattedMessage id=\"action.retract\" /><Icon type='up' /></> : <><FormattedMessage id=\"action.open\" /> <Icon type='down' /></>}\r\n                                    </a>\r\n                                </>\r\n                            }\r\n                        </Col>\r\n                    </Row>\r\n                    <div className=\"data-view-search-divider\"></div>\r\n                </Form>}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n@observer\r\nclass DataSpin extends React.Component<any, any> {\r\n    Store: Store = this.props.Store;\r\n    public render() {\r\n        const { PageState } = this.Store;\r\n        return (\r\n            <Spin spinning={PageState.tableLoading} className=\"data-view-search-spin\" size=\"large\" />\r\n        );\r\n    }\r\n}\r\n","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2019-02-24 17:06:10\r\n * @modify date 2019-02-24 17:06:10\r\n * @desc [description]\r\n */\r\nimport { Icon, Modal } from 'antd';\r\nimport * as React from 'react';\r\nimport RequestFiles from 'utils/RequestFiles';\r\nimport Viewer from 'viewerjs';\r\nimport './toImg.less';\r\ninterface IAppProps {\r\n    fileID: String;\r\n    hideDownload?: boolean;\r\n    style?: React.CSSProperties;\r\n}\r\nconst img = new Image();\r\nconst viewer = new Viewer(img)\r\n/**\r\n * 控制组件 展示\r\n */\r\nexport class ToImg extends React.Component<IAppProps, any> {\r\n    componentDidMount() {\r\n\r\n    }\r\n    componentWillUnmount() {\r\n\r\n    }\r\n    render() {\r\n        if (this.props.fileID) {\r\n            const src = RequestFiles.onFileUrl(this.props.fileID)\r\n            return <div className=\"ant-upload-list ant-upload-list-picture-card app-to-img\" >\r\n                <div className=\"ant-upload-list-item ant-upload-list-item-done\">\r\n                    <div className=\"ant-upload-list-item-thumbnail\">\r\n                        <img className=\"app-to-image\" src={src} />\r\n                    </div>\r\n                    <div className=\"app-img-hove\">\r\n                        <a key='url' target=\"_blank\" onClick={e => {\r\n                            img.src = src\r\n                            viewer.show()\r\n                        }} ><Icon type=\"eye\" /></a>\r\n                        {this.props.hideDownload ? null : <a key='download' href={RequestFiles.onFileDownload(this.props.fileID)}><Icon type=\"cloud-download\" /></a>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        }\r\n        return <div className=\"ant-upload-list ant-upload-list-picture-card app-to-img\"  key=\"app-to-img\"></div>\r\n    }\r\n}\r\n","/**\r\n* 正则列表\r\n* https://www.cnblogs.com/zxin/archive/2013/01/26/2877765.html\r\n*/\r\nexport default {\r\n    /** 手机号 */\r\n    mobilePhone: /0?(13|14|15|17|18|19)[0-9]{9}/,\r\n    /** 电话 */\r\n    telephone: /[0-9-()（）]{7,18}/,\r\n    /** 邮箱 */\r\n    email: /\\w[-\\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\\.)+[A-Za-z]{2,14}/,\r\n    /** 身份证 */\r\n    cardID: /^[1-9]\\d{5}(18|19|([23]\\d))\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$/,\r\n    /** 网址 url */\r\n    url: /^((https|http|ftp|rtsp|mms)?:\\/\\/)[^\\s]+/,\r\n    isHtml: /<(S*?)[^>]*>.*?|<.*? \\/>/,\r\n    /** 数字 */\r\n    number: {\r\n        /** 数字  */\r\n        ordinary: /^[0-9]*$/,\r\n        /** 正数 */\r\n        just: /[1-9]\\d*/,\r\n        /** 负数 */\r\n        negative: /-[1-9]\\d*/\r\n    }\r\n}","import action from './action';\r\nimport pages from './pages';\r\nimport settingDrawer from './settingDrawer';\r\nimport tips from './tips';\r\nimport other from './other';\r\nexport default {\r\n    ...tips,\r\n    ...other,\r\n    ...action,\r\n    ...settingDrawer,\r\n    ...pages\r\n};\r\n","export default {\r\n    'tips.status.401': `Sorry, you don't have access to this page`,\r\n    'tips.status.403': `Sorry, you don't have access to this page`,\r\n    'tips.status.404': 'Sorry, the page you visited does not exist',\r\n    'tips.status.500': `Sorry, there's something wrong with the server`,\r\n    'tips.text.explain':'Explain',\r\n    'tips.text.importExplain':'Please download the template and input the information into the template',\r\n    'tips.text.upload':'Click or drag files to upload in this area',\r\n    'tips.success.operation':'Operation Success',\r\n    'tips.error.operation':'Operation Error',\r\n    'tips.error.import':'Import Error',\r\n    'tips.error.file':'File Error',\r\n    'tips.error.required': '{txt} is required',\r\n    'tips.placeholder.choose': 'Please choose {txt}',\r\n    'tips.placeholder.input': 'Please input {txt}',\r\n    'tips.bool.true': 'Yes',\r\n    'tips.bool.false': 'No',\r\n    'tips.all': 'All',\r\n    'tips.theme.loading': 'Load theme',\r\n};\r\n","export default {\r\n    'update.pwd.new': 'New password',\r\n    'update.pwd.old': 'Old password',\r\n    'update.pwd.confirm': 'Confirm pwd',\r\n    'update.pwd.inconsistent': 'Passwords are inconsistent!',\r\n};\r\n","export default {\r\n    'action.search': ' Search',\r\n    'action.reset': ' Reset',\r\n    'action.insert': ' Insert',\r\n    'action.update': ' Update',\r\n    'action.delete': ' Delete',\r\n    'action.info': ' Info',\r\n    'action.import': ' Import',\r\n    'action.export': ' Export',\r\n    'action.exportAll': ' Export All',\r\n    'action.exportSelect': ' Export Select',\r\n    'action.deleteConfirm': ' Are you sure to delete this {text} items ?',\r\n    'action.open': ' Open',\r\n    'action.retract': ' Retract',\r\n    'action.close': ' Close',\r\n    'action.submit': ' Submit',\r\n    'action.downloadTemplate':' DownloadTemplate',\r\n    'action.pages.closeTheCurrent':'Close The Current',\r\n    'action.pages.closeOther':'Close Other',\r\n    'action.pages.closeAll':'Close All',\r\n    'action.user.codeGenerator':'Code Generator',\r\n    'action.user.apiDocument':'API document',\r\n    'action.user.changePassword':'Change Password',\r\n    'action.user.logout':'Logout',\r\n    'action.sys.refreshMenu': 'Refresh Menu',\r\n    'action.privilege':'Privilege',\r\n};\r\n","export default {\r\n  'app.setting.pagestyle': 'Page style setting',\r\n  'app.setting.pagestyle.dark': 'Dark style',\r\n  'app.setting.pagestyle.light': 'Light style',\r\n  'app.setting.content-width': 'Content Width',\r\n  'app.setting.content-width.fixed': 'Fixed',\r\n  'app.setting.content-width.fluid': 'Fluid',\r\n  'app.setting.themecolor': 'Theme Color',\r\n  'app.setting.themecolor.dust': 'Dust Red',\r\n  'app.setting.themecolor.volcano': 'Volcano',\r\n  'app.setting.themecolor.sunset': 'Sunset Orange',\r\n  'app.setting.themecolor.cyan': 'Cyan',\r\n  'app.setting.themecolor.green': 'Polar Green',\r\n  'app.setting.themecolor.daybreak': 'Daybreak Blue (default)',\r\n  'app.setting.themecolor.geekblue': 'Geek Glue',\r\n  'app.setting.themecolor.purple': 'Golden Purple',\r\n  'app.setting.navigationmode': 'Navigation Mode',\r\n  'app.setting.sidemenu': 'Side Menu Layout',\r\n  'app.setting.topmenu': 'Top Menu Layout',\r\n  'app.setting.fixedheader': 'Fixed Header',\r\n  'app.setting.fixedsidebar': 'Fixed Sidebar',\r\n  'app.setting.fixedsidebar.hint': 'Works on Side Menu Layout',\r\n  'app.setting.hideheader': 'Hidden Header when scrolling',\r\n  'app.setting.hideheader.hint': 'Works when Hidden Header is enabled',\r\n  'app.setting.othersettings': 'Other Settings',\r\n  'app.setting.weakmode': 'Weak Mode',\r\n  'app.setting.copy': 'Copy Setting',\r\n  'app.setting.copyinfo':\r\n    'copy success，please replace defaultSettings in src/models/setting.js',\r\n  'app.setting.production.hint':\r\n    'Setting panel shows in development environment only, please manually modify',\r\n};\r\n","export default {\r\n    'pages.home': 'Home',\r\n    'pages.outerChain': 'Outer chain',\r\n    'pages.static': 'Static',\r\n    'MenuKey.DataPrivilege': 'Data Privilege',\r\n    'MenuKey.Log': 'Log',\r\n    'MenuKey.GroupManagement': 'Group Management',\r\n    'MenuKey.MenuMangement': 'Menu Mangement',\r\n    'MenuKey.RoleManagement': 'Role Management',\r\n    'MenuKey.SystemManagement': 'System',\r\n    'MenuKey.UserManagement': 'User Management',\r\n    'MenuKey.test.step': 'Level Three',\r\n    'MenuKey.test.step2': 'Level Four',\r\n};\r\n","import action from './action';\r\nimport pages from './pages';\r\nimport settingDrawer from './settingDrawer';\r\nimport tips from './tips';\r\nimport other from './other';\r\nexport default {\r\n    ...tips,\r\n    ...other,\r\n    ...action,\r\n    ...settingDrawer,\r\n    ...pages\r\n};\r\n","export default {\r\n    'tips.status.401': '抱歉，您无权访问该页面',\r\n    'tips.status.403': '抱歉，您无权访问该页面',\r\n    'tips.status.404': '抱歉，您访问的页面不存在',\r\n    'tips.status.500': '抱歉，服务器出错了',\r\n    'tips.text.importExplain':'说明：请下载模版，然后在把信息输入到模版中',\r\n    'tips.text.upload':'单击或拖动文件到该区域上载',\r\n    'tips.success.operation':'操作成功',\r\n    'tips.error.operation':'操作失败',\r\n    'tips.error.import':'导入失败',\r\n    'tips.error.file': '文件错误',\r\n    'tips.error.required':'{txt}是必填项',\r\n    'tips.placeholder.choose': '请选择{txt}',\r\n    'tips.placeholder.input': '请输入{txt}',\r\n    'tips.bool.true': '是',\r\n    'tips.bool.false': '否',\r\n    'tips.all': '全部',\r\n    'tips.theme.loading': '正在加载主题',\r\n};\r\n","export default {\r\n    'update.pwd.new': '新密码',\r\n    'update.pwd.old': '旧密码',\r\n    'update.pwd.confirm': '确认密码',\r\n    'update.pwd.inconsistent': '密码不一致!',\r\n};\r\n","export default {\r\n    'action.search': ' 搜索',\r\n    'action.reset': ' 重置',\r\n    'action.insert': ' 添加',\r\n    'action.update': ' 修改',\r\n    'action.delete': ' 删除',\r\n    'action.info': ' 详情',\r\n    'action.import': ' 导入',\r\n    'action.export': ' 导出',\r\n    'action.exportAll': ' 导出全部',\r\n    'action.exportSelect': ' 导出选择',\r\n    'action.deleteConfirm': ' 确定删除这{text}条数据么 ?',\r\n    'action.open': ' 展开',\r\n    'action.retract': ' 收起',\r\n    'action.close': ' 关闭',\r\n    'action.submit': ' 提交',\r\n    'action.downloadTemplate':' 下载模板',\r\n    'action.pages.closeTheCurrent':'关闭当前',\r\n    'action.pages.closeOther':'关闭其他',\r\n    'action.pages.closeAll':'关闭所有',\r\n    'action.user.codeGenerator':'代码生成器',\r\n    'action.user.apiDocument':'API 文档',\r\n    'action.user.changePassword':'修改密码',\r\n    'action.user.logout':'注销',\r\n    'action.sys.refreshMenu':'刷新菜单',\r\n    'action.privilege': '分配权限',\r\n};\r\n","export default {\r\n  'app.setting.pagestyle': '整体风格设置',\r\n  'app.setting.pagestyle.dark': '暗色菜单风格',\r\n  'app.setting.pagestyle.light': '亮色菜单风格',\r\n  'app.setting.content-width': '内容区域宽度',\r\n  'app.setting.content-width.fixed': '定宽',\r\n  'app.setting.content-width.fluid': '流式',\r\n  'app.setting.themecolor': '主题色',\r\n  'app.setting.themecolor.dust': '薄暮',\r\n  'app.setting.themecolor.volcano': '火山',\r\n  'app.setting.themecolor.sunset': '日暮',\r\n  'app.setting.themecolor.cyan': '明青',\r\n  'app.setting.themecolor.green': '极光绿',\r\n  'app.setting.themecolor.daybreak': '拂晓蓝（默认）',\r\n  'app.setting.themecolor.geekblue': '极客蓝',\r\n  'app.setting.themecolor.purple': '酱紫',\r\n  'app.setting.navigationmode': '导航模式',\r\n  'app.setting.sidemenu': '侧边菜单布局',\r\n  'app.setting.topmenu': '顶部菜单布局',\r\n  'app.setting.fixedheader': '固定 Header',\r\n  'app.setting.fixedsidebar': '固定侧边菜单',\r\n  'app.setting.fixedsidebar.hint': '侧边菜单布局时可配置',\r\n  'app.setting.hideheader': '下滑时隐藏 Header',\r\n  'app.setting.hideheader.hint': '固定 Header 时可配置',\r\n  'app.setting.othersettings': '其他设置',\r\n  'app.setting.weakmode': '色弱模式',\r\n  'app.setting.copy': '拷贝设置',\r\n  'app.setting.copyinfo':\r\n    '拷贝成功，请到 src/defaultSettings.js 中替换默认配置',\r\n  'app.setting.production.hint':\r\n    '配置栏只在开发环境用于预览，生产环境不会展现，请拷贝后手动修改配置文件',\r\n  'app.setting.infoType': '弹框类型',\r\n  'app.setting.tabsPage': '页签记录',\r\n  'app.setting.agGridTheme': '表格主题',\r\n};\r\n","export default {\r\n    'pages.home': '首页',\r\n    'pages.outerChain': '外链页面',\r\n    'pages.static': '静态页面',\r\n    'MenuKey.DataPrivilege': '数据权限',\r\n    'MenuKey.Log': '日志',\r\n    'MenuKey.GroupManagement': '用户组管理',\r\n    'MenuKey.MenuMangement': '菜单管理',\r\n    'MenuKey.RoleManagement': '角色管理',\r\n    'MenuKey.SystemManagement': '系统管理',\r\n    'MenuKey.UserManagement': '用户管理',\r\n    'MenuKey.test.step': '三级菜单',\r\n    'MenuKey.test.step2': '四级菜单',\r\n};\r\n","import enus from './en-US/default';\r\nimport zhcn from './zh-CN/default';\r\nimport lodash from 'lodash';\r\nimport { defineMessages, FormattedMessage, MessageDescriptor } from 'react-intl';\r\nimport globalconfig from 'global.config';\r\nimport antdZhCN from 'antd/lib/locale-provider/zh_CN';\r\nimport antdEnUS from 'antd/lib/locale-provider/en_US';\r\nlet locales = {\r\n    'zh-CN': {\r\n        ...zhcn,\r\n    },\r\n    'en-US': {\r\n        ...enus,\r\n    }\r\n};\r\n/**\r\n * 扩展 多语言 配置\r\n * @param key \r\n * @param locales \r\n */\r\nexport function mergeLocales(mergeLocales: { 'zh-CN'?: any, 'en-US'?: any }) {\r\n    // lodash.update(locales, key, loe => {\r\n    //     return lodash.merge(loe, locales)\r\n    // });\r\n    lodash.merge(locales, mergeLocales);\r\n    console.warn(\"TCL: mergeLocales -> locales\", locales)\r\n}\r\n/**\r\n * 获取当前配置语言 的 value\r\n *\r\n * @export\r\n * @param {string} key \r\n * @param {*} [defaultValue] 默认值\r\n * @returns\r\n */\r\nexport function getLocalesValue(key: string, defaultValue?) {\r\n    return lodash.get(getLocales(), key, defaultValue || key)\r\n}\r\n/**\r\n *\r\n *获取当前配置语言 的 value 格式化模板 \r\n * @export\r\n * @param {*} key\r\n * @param {*} values\r\n * @param {*} [defaultValue]\r\n * @returns\r\n */\r\nexport function getLocalesTemplate(key, values, defaultValue?) {\r\n    return lodash.template(getLocalesValue(key, defaultValue), { interpolate: /{([\\s\\S]+?)}/g })(values)\r\n}\r\n/**\r\n * 获取当前语言配置\r\n *\r\n * @export\r\n * @returns\r\n */\r\nexport function getLocales(language = globalconfig.language) {\r\n    const define = lodash.get(locales, language);\r\n\r\n    // defineMessages(lodash.mapValues(define, (value, key) => {\r\n    //     return {\r\n    //         id: key,\r\n    //         description: value\r\n    //     }\r\n    // }) as any)\r\n\r\n    return define\r\n}\r\nexport function getConfigProvider(language = globalconfig.language) {\r\n    return lodash.get({\r\n        'zh-CN': antdZhCN,\r\n        'en-US': antdEnUS\r\n    }, language, antdZhCN)\r\n}\r\nexport default locales\r\n","module.exports = __webpack_public_path__ + \"static/media/user.39dc994e.png\";","import React from \"react\";\r\nexport default {\r\n    actionlog: {\r\n        name: 'MenuKey.Log',\r\n        path: '/actionlog',\r\n        controller: 'WalkingTec.Mvvm.Admin.Api,ActionLog',\r\n        component: React.lazy(() => import('./actionlog'))\r\n    },\r\n    frameworkgroup: {\r\n        name: 'MenuKey.GroupManagement',\r\n        path: '/frameworkgroup',\r\n        controller: 'WalkingTec.Mvvm.Admin.Api,FrameworkGroup',\r\n        component: React.lazy(() => import('./frameworkgroup'))\r\n    },\r\n    frameworkrole: {\r\n        name: 'MenuKey.RoleManagement',\r\n        path: '/frameworkrole',\r\n        controller: 'WalkingTec.Mvvm.Admin.Api,FrameworkRole',\r\n        component: React.lazy(() => import('./frameworkrole'))\r\n    },\r\n    frameworkuserbase: {\r\n        name: 'MenuKey.UserManagement',\r\n        path: '/frameworkuser',\r\n        controller: 'WalkingTec.Mvvm.Admin.Api,FrameworkUser',\r\n        component: React.lazy(() => import('./frameworkuser'))\r\n    },\r\n    frameworkmenu: {\r\n        name: 'MenuKey.MenuMangement',\r\n        path: '/frameworkmenu',\r\n        controller: 'WalkingTec.Mvvm.Admin.Api,FrameworkMenu',\r\n        component: React.lazy(() => import('./frameworkmenu'))\r\n    },\r\n    dataprivilege: {\r\n        name: 'MenuKey.DataPrivilege',\r\n        path: '/dataprivilege',\r\n        controller: 'WalkingTec.Mvvm.Admin.Api,DataPrivilege',\r\n        component: React.lazy(() => import('./dataprivilege'))\r\n    }\r\n    /**WTM**/\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"app-container-2Wu7Q\"};","module.exports = __webpack_public_path__ + \"static/media/code.3fafbd0d.png\";","import './test/iconfont.css';\nimport './wtm/iconfont.css';\nexport default [\n    {\n        \"name\": \"test\",\n        \"class\": \"musicicon\",\n        \"icons\": [\n            \"musicicon-15\",\n            \"musicicon-14\",\n            \"musicicon-quanping\",\n            \"musicicon-13\",\n            \"musicicon-12\",\n            \"musicicon-11\",\n            \"musicicon-10\",\n            \"musicicon-9\",\n            \"musicicon-8\",\n            \"musicicon-7\",\n            \"musicicon-6\",\n            \"musicicon-5\",\n            \"musicicon-4\",\n            \"musicicon-3\",\n            \"musicicon-2\",\n            \"musicicon-icon-\",\n            \"musicicon-icon-1\",\n            \"musicicon-icon-2\",\n            \"musicicon-icon-3\",\n            \"musicicon-1\"\n        ]\n    },\n    {\n        \"name\": \"wtm\",\n        \"class\": \"_wtmicon\",\n        \"icons\": [\n            \"_wtmicon-renminbi\",\n            \"_wtmicon-wxbzhanghu\",\n            \"_wtmicon-wxbsousuotuiguang\",\n            \"_wtmicon-iconfontmingpian\",\n            \"_wtmicon-iconfontriyongbaihuo\",\n            \"_wtmicon-file\",\n            \"_wtmicon-tiaoshi\",\n            \"_wtmicon-guanfangbanben\",\n            \"_wtmicon-quanxianshenpi\",\n            \"_wtmicon-yingyongguanli\",\n            \"_wtmicon-zhanghaoquanxianguanli\",\n            \"_wtmicon-folder\",\n            \"_wtmicon-icon_shezhi\",\n            \"_wtmicon-tubiao-bingtu\",\n            \"_wtmicon-tubiao-qiapian\",\n            \"_wtmicon-tubiao-zhexiantu\",\n            \"_wtmicon-zuzhiqunzu\",\n            \"_wtmicon-yingwen\",\n            \"_wtmicon-zhongwen\",\n            \"_wtmicon--lumingpai\",\n            \"_wtmicon-fabu\",\n            \"_wtmicon-xiayibu\",\n            \"_wtmicon-shangyibu\",\n            \"_wtmicon-xiangxiazhanhang\",\n            \"_wtmicon-xiangshangzhanhang\",\n            \"_wtmicon-tupianjiazaishibai\",\n            \"_wtmicon-huanyuanhuabu\",\n            \"_wtmicon-quanping\",\n            \"_wtmicon-DOC\",\n            \"_wtmicon-BMP\",\n            \"_wtmicon-GIF\",\n            \"_wtmicon-JPG\",\n            \"_wtmicon-PNG\",\n            \"_wtmicon-weizhigeshi\",\n            \"_wtmicon-yunduanxiazai\",\n            \"_wtmicon-yunduanshangchuan\",\n            \"_wtmicon-wentijieda\",\n            \"_wtmicon-dingwei\",\n            \"_wtmicon-xiaoxitongzhi\",\n            \"_wtmicon-xinhao\",\n            \"_wtmicon-lanya\",\n            \"_wtmicon-Wi-Fi\",\n            \"_wtmicon-chaxun\",\n            \"_wtmicon-anquan\",\n            \"_wtmicon-hanshu\",\n            \"_wtmicon-chucun\",\n            \"_wtmicon-bug\",\n            \"_wtmicon-js\",\n            \"_wtmicon-wuxiandianbo\",\n            \"_wtmicon-dianzan_kuai\",\n            \"_wtmicon-zhihuan\",\n            \"_wtmicon-aixin_shixin\",\n            \"_wtmicon-aixin\",\n            \"_wtmicon-shengyin_shiti\",\n            \"_wtmicon-shengyinkai\",\n            \"_wtmicon-shoucang_shixin\",\n            \"_wtmicon-shoucang\",\n            \"_wtmicon-shengyinwu\",\n            \"_wtmicon-shengyinjingyin\",\n            \"_wtmicon-fenxiangfangshi\"\n        ]\n    }\n] ","/**\r\n * @author 冷 (https://github.com/LengYXin)\r\n * @email lengyingxin8966@gmail.com\r\n * @create date 2018-09-12 18:52:37\r\n * @modify date 2018-09-12 18:52:37\r\n * @desc [description]\r\n*/\r\nimport { notification } from \"antd\";\r\nimport GlobalConfig from 'global.config';\r\nimport lodash from 'lodash';\r\nimport NProgress from 'nprogress';\r\nimport { interval, Observable, of, TimeoutError } from \"rxjs\";\r\nimport { ajax, AjaxError, AjaxResponse, AjaxRequest } from \"rxjs/ajax\";\r\nimport { catchError, filter, map, timeout } from \"rxjs/operators\";\r\nimport { getLocalesValue } from \"locale\";\r\nimport { unwatchFile } from \"fs\";\r\ninterface Preview {\r\n    data: any\r\n    message: string\r\n    status: number\r\n}\r\n/** 缓存 http 请求 */\r\nconst CacheHttp = new Map<string, Promise<any>>();\r\n/** 缓存数据 */\r\nconst Cache = new Map<string, any>();\r\n// 每30秒清理一次缓存\r\ninterval(5000).subscribe(obs => {\r\n    CacheHttp.clear();\r\n    Cache.clear();\r\n})\r\nexport class Request {\r\n    /**\r\n     * \r\n     * @param target 替换默认地址前缀\r\n     * @param newMap 替换默认过滤函数\r\n     */\r\n    constructor(target?, public newMap?) {\r\n        if (typeof target === \"string\") {\r\n            this.target = target;\r\n        }\r\n        // this.getHeaders();\r\n    }\r\n    /** \r\n     * 请求路径前缀\r\n     */\r\n    target = \"/\"//GlobalConfig.target\r\n    /**\r\n     * 获取 认证 token请求头\r\n     */\r\n    getHeaders() {\r\n        return GlobalConfig.getHeaders()\r\n    }\r\n\r\n    /**\r\n     * 请求超时设置\r\n     */\r\n    protected timeout = 10000;\r\n    /**\r\n     * 抛出 状态 \r\n     */\r\n    protected catchStatus = [400]\r\n    /**\r\n     * ajax Observable 管道\r\n     * @param Observable \r\n     */\r\n    protected AjaxObservable(Obs: Observable<AjaxResponse>) {\r\n        return new Observable<any>(sub => {\r\n            // 加载进度条\r\n            Request.NProgress();\r\n            Obs.pipe(\r\n                // 超时时间\r\n                timeout(this.timeout),\r\n                // 错误处理\r\n                catchError((err) => of(err)),\r\n                // 过滤请求\r\n                filter((ajax) => {\r\n                    Request.NProgress(\"done\");\r\n                    // 数据 Response \r\n                    if (ajax instanceof AjaxResponse) {\r\n                        // 无 响应 数据\r\n                        //if (lodash.isNil(ajax.response)) {\r\n                        //    console.warn(`未解析到 response ${ajax.request.url}`, ajax)\r\n                        //    GlobalConfig.development && notification.warn({\r\n                        //        message: \"未解析到 response \",\r\n                        //        duration: 5,\r\n                        //        description: `url:${lodash.get(ajax, \"request.url\")}`\r\n                        //    })\r\n                        //    sub.error({})\r\n                        //    return false\r\n                        //}\r\n                        return true\r\n                    }\r\n                    // 错误\r\n                    if (ajax instanceof AjaxError) {\r\n                        const { response } = ajax;\r\n                        // 返回 业务处理错误\r\n                        if (response && lodash.includes(this.catchStatus, ajax.status)) {\r\n                            if (response.Message && response.Message.length > 0) {\r\n                                lodash.compact(response.Message).map(message => notification.error({\r\n                                    message\r\n                                }))\r\n                            }\r\n                            if (response.errors) {\r\n                                notification.error({\r\n                                    key: ajax.request.url,\r\n                                    message: response.traceId,\r\n                                    duration: 5,\r\n                                    description: response.title,\r\n                                });\r\n                            }\r\n                            sub.error(response)\r\n                            return false\r\n                        }\r\n                        sub.error({})\r\n                        notification.error({\r\n                            key: ajax.request.url,\r\n                            message: getLocalesValue(`tips.status.${ajax.status}`, `${ajax.request.method}: ${ajax.request.url}`), //ajax.status,\r\n                            duration: 5,\r\n                            // description: `${ajax.request.method}: ${ajax.request.url}`,\r\n                        });\r\n                        return false\r\n                    }\r\n                    if (ajax instanceof TimeoutError) {\r\n                        sub.error({})\r\n                        notification.error({\r\n                            key: ajax.name,\r\n                            message: ajax.message,\r\n                            duration: 5,\r\n                        });\r\n                        return false\r\n                    }\r\n                }),\r\n                // 数据过滤\r\n                map((res: AjaxResponse) => {\r\n                    // 使用传入得 过滤函数\r\n                    if (this.newMap && typeof this.newMap == \"function\") {\r\n                        return this.newMap(res);\r\n                    }\r\n                    switch (res.status) {\r\n                        case 200:\r\n                            return res.response || true\r\n                        default:\r\n                            notification.warn({\r\n                                message: getLocalesValue(`tips.status.${res.status}`, `请配置 状态 ${res.status} 处理逻辑`),\r\n                                duration: 5,\r\n                                // description: `请配置 状态 ${res.status} 处理逻辑`,\r\n                            });\r\n                            break;\r\n                    }\r\n                })\r\n            ).subscribe(obs => {\r\n                sub.next(obs)\r\n                sub.complete()\r\n            })\r\n        })\r\n    }\r\n    /**\r\n     * url 参数 注入\r\n     * @param url url\r\n     * @param body body\r\n     * @param emptyBody 清空 body \r\n     */\r\n    static parameterTemplate(url, body, emptyBody = false) {\r\n        if (lodash.isObject(body) && /{([\\s\\S]+?)}/g.test(url)) {\r\n            if (typeof body == \"object\") {\r\n                url = lodash.template(url, { interpolate: /{([\\s\\S]+?)}/g })(body);\r\n            }\r\n            // 清空body\r\n            emptyBody && (body = {});\r\n        }\r\n        return {\r\n            url,\r\n            body\r\n        }\r\n    }\r\n    /**\r\n     *  请求数据 缓存数据\r\n     * @param params \r\n     */\r\n    async cache(params: {\r\n        url: string,\r\n        body?: { [key: string]: any } | string,\r\n        headers?: Object\r\n        method?: \"get\" | \"post\"\r\n    }) {\r\n        params = { url: \"\", body: {}, method: \"get\", ...params };\r\n        const key = JSON.stringify({ url: params.url, body: params.body })\r\n        if (Cache.has(key)) {\r\n            return Cache.get(key);\r\n        }\r\n        let promise: Promise<any>// = Http.get(this.address + parmas.address, parmas.params).toPromise();\r\n        if (CacheHttp.has(key)) {\r\n            promise = CacheHttp.get(key);\r\n        } else {\r\n            // if (params.method == \"get\") {\r\n            //     promise = this.get(params.url, params.body, params.headers).toPromise();\r\n            // } else {\r\n            //     promise = this.post(params.url, params.body, params.headers).toPromise();\r\n            // }\r\n            promise = this.ajax(params).toPromise();\r\n            CacheHttp.set(key, promise);\r\n        }\r\n        const data = await promise || [];\r\n        Cache.set(key, data);\r\n        return data;\r\n    }\r\n    /**\r\n     * ajax\r\n     * @param urlOrRequest \r\n     */\r\n    ajax(urlOrRequest: string | AjaxRequest) {\r\n        if (lodash.isString(urlOrRequest)) {\r\n            return this.AjaxObservable(ajax(this.get({ url: urlOrRequest, headers: this.getHeaders() })))\r\n        }\r\n        urlOrRequest.headers = { ...this.getHeaders(), ...urlOrRequest.headers };\r\n        switch (lodash.toLower(urlOrRequest.method)) {\r\n            case 'post':\r\n                urlOrRequest = this.post(urlOrRequest)\r\n                break;\r\n            case 'put':\r\n                urlOrRequest = this.put(urlOrRequest)\r\n                break;\r\n            case 'delete':\r\n                urlOrRequest = this.delete(urlOrRequest)\r\n                break;\r\n            default://get\r\n                urlOrRequest = this.get(urlOrRequest)\r\n                break;\r\n        }\r\n        return this.AjaxObservable(ajax(urlOrRequest))\r\n    }\r\n    /**\r\n     * \r\n     * @param urlOrRequest \r\n     */\r\n    private get(urlOrRequest: AjaxRequest): AjaxRequest {\r\n        const newParams = Request.parameterTemplate(urlOrRequest.url, urlOrRequest.body, true);\r\n        urlOrRequest.body = Request.formatBody(newParams.body);\r\n        urlOrRequest.url = Request.compatibleUrl(this.target, newParams.url, urlOrRequest.body);\r\n        return urlOrRequest\r\n    }\r\n    /**\r\n     * post\r\n     * @param url \r\n     * @param body \r\n     * @param headers \r\n     */\r\n    private post(urlOrRequest: AjaxRequest): AjaxRequest {\r\n        const newParams = Request.parameterTemplate(urlOrRequest.url, urlOrRequest.body);\r\n        urlOrRequest.body = Request.formatBody(newParams.body, \"body\", urlOrRequest.headers);\r\n        urlOrRequest.url = Request.compatibleUrl(this.target, newParams.url);\r\n        return urlOrRequest\r\n    }\r\n    /**\r\n     * put\r\n     * @param url \r\n     * @param body \r\n     * @param headers \r\n     */\r\n    private put(urlOrRequest: AjaxRequest): AjaxRequest {\r\n        const newParams = Request.parameterTemplate(urlOrRequest.url, urlOrRequest.body);\r\n        urlOrRequest.body = Request.formatBody(newParams.body, \"body\", urlOrRequest.headers);\r\n        urlOrRequest.url = Request.compatibleUrl(this.target, newParams.url);\r\n        return urlOrRequest\r\n    }\r\n    /**\r\n     * delete\r\n     * @param url \r\n     * @param body \r\n     * @param headers \r\n     */\r\n    delete(urlOrRequest: AjaxRequest): AjaxRequest {\r\n        const newParams = Request.parameterTemplate(urlOrRequest.url, urlOrRequest.body, true);\r\n        urlOrRequest.body = Request.formatBody(newParams.body);\r\n        urlOrRequest.url = Request.compatibleUrl(this.target, newParams.url, urlOrRequest.body);\r\n        return urlOrRequest\r\n    }\r\n    /** jsonp 回调 计数 */\r\n    private jsonpCounter = 0;\r\n    /**\r\n     * jsonP\r\n     */\r\n    jsonp(url, body?: { [key: string]: any } | string, callbackKey = 'callback') {\r\n        this.getHeaders();\r\n        body = Request.formatBody(body);\r\n        url = Request.compatibleUrl(this.target, url, `${body || '?time=' + new Date().getTime()}&${callbackKey}=`);\r\n        return new Observable(observer => {\r\n            this.jsonpCounter++;\r\n            const key = '_jsonp_callback_' + this.jsonpCounter;\r\n            const script = document.createElement('script');\r\n            script.src = url + key;\r\n            script.onerror = (err) => observer.error(err);\r\n            document.body.appendChild(script);\r\n            window[key] = (response) => {\r\n                // clean up\r\n                script.parentNode.removeChild(script);\r\n                delete window[key];\r\n                // push response downstream\r\n                observer.next(response);\r\n                observer.complete();\r\n            };\r\n        })\r\n    };\r\n    /**\r\n     * url 兼容处理 \r\n     * @param address 前缀\r\n     * @param url url\r\n     * @param endStr 结尾，参数等\r\n     */\r\n    static compatibleUrl(address: string, url: string, endStr?: string) {\r\n        endStr = endStr || ''\r\n        if (/^((https|http|ftp|rtsp|mms)?:\\/\\/)[^\\s]+/.test(url)) {\r\n            return `${url}${endStr}`;\r\n        }\r\n        else {\r\n            // address  / 结尾  url / 开头\r\n            const isAddressWith = lodash.endsWith(address, \"/\")\r\n            const isUrlWith = lodash.startsWith(url, \"/\")\r\n            // debugger\r\n            if (isAddressWith) {\r\n                if (isUrlWith) {\r\n                    url = lodash.trimStart(url, \"/\")\r\n                }\r\n            } else {\r\n                if (isUrlWith) {\r\n\r\n                } else {\r\n                    url = \"/\" + url;\r\n                }\r\n            }\r\n        }\r\n        return `${address}${url}${endStr}`\r\n    }\r\n    /**\r\n     * 格式化 参数\r\n     * @param body  参数 \r\n     * @param type  参数传递类型\r\n     * @param headers 请求头 type = body 使用\r\n     */\r\n    static formatBody(\r\n        body?: { [key: string]: any } | any[] | string,\r\n        type: \"url\" | \"body\" = \"url\",\r\n        headers?: Object\r\n    ): any {\r\n        const toNull = (attribute) => {\r\n            return lodash.mapValues(attribute, item => {\r\n                if (lodash.isObject(item)) {\r\n                    return lodash.isArray(item) ? item : toNull(item)\r\n                }\r\n                return lodash.includes([null, undefined, \"\", \"null\", \"undefined\"], item) ? null : item\r\n            })\r\n        }\r\n        if (lodash.isObject(body) && !lodash.isArray(body)) {\r\n            body = toNull(body)\r\n        }\r\n        if (type === \"url\") {\r\n            let param = \"\";\r\n            if (typeof body != 'string') {\r\n                let parlist = [];\r\n                lodash.forEach(body, (value, key) => {\r\n                    if (!lodash.isNil(value) && value != \"\") {\r\n                        parlist.push(`${key}=${value}`);\r\n                    }\r\n                });\r\n                if (parlist.length) {\r\n                    param = \"?\" + parlist.join(\"&\");\r\n                }\r\n            } else {\r\n                param = body;\r\n            }\r\n            return param;\r\n        } else {\r\n            // 处理 Content-Type body 类型 \r\n            switch (headers[\"Content-Type\"]) {\r\n                case 'application/json;charset=UTF-8':\r\n                    body = JSON.stringify(body)\r\n                    break;\r\n                case 'application/json':\r\n                    if (lodash.isArray(body)) {\r\n                        body = [...body]\r\n                    }\r\n                    if (lodash.isPlainObject(body)) {\r\n                        body = { ...body as any }\r\n                    }\r\n                    break;\r\n                case 'application/x-www-form-urlencoded':\r\n\r\n                    break;\r\n                case 'form-data':\r\n                case 'multipart/form-data':\r\n\r\n                    break;\r\n                case null:\r\n                    delete headers[\"Content-Type\"];\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            return body;\r\n        }\r\n    }\r\n    /** 日志 */\r\n    protected log(url, body, headers) {\r\n\r\n    }\r\n    /**\r\n     *  加载进度条\r\n     * @param type \r\n     */\r\n    static NProgress(type: 'start' | 'done' = 'start') {\r\n        if (type == \"start\") {\r\n            NProgress.start();\r\n        } else {\r\n            NProgress.done();\r\n        }\r\n    }\r\n}\r\nexport default new Request();\r\n"],"sourceRoot":""}